{"version":3,"sources":["AppMode.js","components/Dropdown.js","components/NavBar.js","components/SideMenu.js","components/ModeBar.js","components/RegisterPage.js","components/ConfirmDeleteAccount.js","components/CreateEditAccountDialog.js","components/ResetPasswordPage.js","components/LookUpAccountDialog.js","components/SecurityQuestionDialog.js","components/LoginPage.js","components/FeedPostReply.js","components/FeedPostItem.js","components/FeedPage.js","components/ConfirmDeleteRound.js","components/RoundsTable.js","components/RoundForm.js","components/FloatingButton.js","components/Rounds.js","components/CoursesPage.js","components/AboutBox.js","components/GradeTable.js","components/GradesPage.js","components/Assignment.js","components/AssignmentProf.js","components/AssignmentsPage.js","components/AnalyticsPage.js","components/CourseSettingsPage.js","components/UsersList.js","components/UsersPage.js","components/HelpPage.js","components/MailTable.js","components/MailPage.js","components/ProfilePage.js","components/DeleteCoursePage.js","components/Course.js","components/FindCoursePage.js","components/UserSettingsPage.js","components/Admin.js","components/App.js","serviceWorker.js","index.js"],"names":["AppMode","ADMIN","LOGIN","HELP","MAIL","PROFILE","RESET","ASSIGNMENTS","GRADES","USER_SETTINGS","COURSE_SETTINGS","CREATE_COURSE","DELETE_COURSE","FIND_COURSE","ANALYTICS","USERS","REGISTER","FEED","ROUNDS","ROUNDS_LOGROUND","ROUNDS_EDITROUND","COURSES","Object","freeze","Dropdown","props","logOut","changeMode","className","role","style","width","this","displayMenu","type","href","onClick","React","Component","NavBar","toggleShowDropdown","newType","setState","prevState","setType","switchMode","newMode","courseManagement","createCourse","renderStudentMode","mode","dashboard","assignments","grades","renderInstructorMode","id","userObj","is_instructor","is_admin","togglecoursedropdown","prevstate","coursedropdown","userdropdown","extend","toggleuserdropdown","state","gotopage","string","renderRightItems","ref","coursewidth","selectedCourse","course_name","namewidth","first_name","last_name","display","flexDirection","top","current","offsetWidth","borderRadius","marginLeft","renderDropdown","createRef","padding","src","alt","height","SideMenu","renderModeMenuItems","menuOpen","toggleMenuOpen","profilePicURL","displayName","localAccount","editAccount","showAbout","RegisterPage","createAccount","event","a","userData","userid","email","password","school","url","fetch","headers","method","body","JSON","stringify","res","console","log","status","text","handleRegister","preventDefault","confirm_email","confirm_password","confirm_first_name","confirm_last_name","confirm_id","handleOnChange","target","name","value","emailRef","confirm_emailRef","passwordRef","confirm_passwordRef","fnameRef","confirm_fnameRef","lnameRef","confirm_lnameRef","IDRef","confirmIDRef","validated","position","right","color","fontWeight","onSubmit","autocomplete","size","pattern","required","onChange","ResetPasswordPage","handleSubmit","resetPasswordRef","resetPasswordRepeatRef","resetPassword","focus","errorMsg","checkForSubmit","e","code","cancelResetPassword","placeholder","onKeyUp","LookUpAccountDialog","handleLookUpAccount","response","json","obj","parse","authStrategy","getSecurityAnswer","securityQuestion","securityAnswer","ErrMsg","errMsg","SecurityQuestionDialog","securityAnswerRef","answer","getNewPassword","readOnly","question","rows","cols","LoginPage","handleLoginSubmit","loginBtnIcon","loginBtnLabel","emailInputRef","passwordInputRef","window","open","resText","statusMsg","accountCreateDone","msg","showCreateAccountDialog","cancelCreateAccount","resetUserId","resetQ","resetA","showLookUpAccountDialog","showSecurityQuestionDialog","showResetPasswordPage","handleOAuthLogin","provider","handleOAuthLoginClick","setTimeout","userId","pw","showResetPaswordDialog","deleted","closeStatusMsg","reset","signUp","githubIcon","githubLabel","loginMsg","newAccountCreated","htmlFor","fontSize","backgroundColor","FeedpostReply","key","boxShadow","margin","createdby","content","FeedpostItem","showReply","addreply","newpost","_inputElement","Date","now","replies","concat","seeReplies","createntries","entry","JSXreplies","map","marginBottom","listStyleType","length","FeedPage","addpost","isanonymous","posts","toggledropdown","showdropdown","changeselected","newfilter","curselected","setanonymous","JSXposts","float","marginTop","ConfirmDeleteRound","close","deleteRound","RoundsTable","editRound","setEditId","showConfirmDelete","confirmDelete","setDeleteId","renderTable","table","r","push","rounds","date","substring","course","Number","strokes","minutes","seconds","keys","colSpan","fontStyle","RoundForm","handleChange","newSec","newSGS","computeSGS","SGS","newStrokes","newMin","faIcon","btnLabel","roundData","saveRound","min","sec","today","getTimezoneOffset","toISOString","substr","holes","notes","thisRound","startData","maxLength","max","disabled","FloatingButton","handleClick","Rounds","addRound","newData","refreshOnUpdate","editId","_id","deleteId","val","closeErrorMsg","icon","CoursesPage","AboutBox","textAlign","GradeTable","getKeys","data","getHeader","index","toUpperCase","getRowsData","items","row","bind","RenderRow","GradesPage","hasGradebook","class","data-toggle","data-target","Assignment","assignmentid","borderBottom","assignment","duedate","didsubmit","showModal","latestactivity","AssignmentProf","AssignmentsPage","updateGrade","submission_content","curassignmentid","grade","submit_date","showSubmissions","assignment_name","due_date","createAssignment","curClass","newGrades","assignmentName","assignmentText","assignmentDue","student","studentarray","students","assignmentData","assignment_content","instructor_id","forceUpdate","toggleCreate","getAssignments","componentDidMount","JSXassignments","paddingLeft","AnalyticsPage","CourseSettingsPage","updateCourse","course_number","cancelReturnHomepage","prefix","term","year","start_date","end_date","instructor","autoComplete","UsersList","editUser","deleteUser","UsersPage","getUserLists","roles","classData","courseId","HelpPage","senderId","subject","MailPage","inbox","recId","message","outbox","ProfilePage","switchToEdit","stype","DeleteCoursePage","deleteCourse","alert","cancelDeleteCourse","Course","coursename","coursenumber","semester","FindCoursePage","loadCourse","courses","JSXcourses","UserSettingsPage","accept","Admin","loadUsers","users","changeRoleCallBack","updateUser","changeRole","String","modeTitle","modeToPage","Administrator","Register","ResetPassword","Grades","Users","Analytics","Assignments","CourseSettings","Help","Mail","Profile","DeleteCourse","FindCourse","UserSettings","App","arg","handleChangeMode","openMenu","closeMenu","setUserId","Id","authenticated","showEditAccount","showEditAccountDialog","cancelEditAccount","editAccountDone","showAboutDialog","then","isAuthenticated","user","ModePage","create","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3c947952.chunk.js","sourcesContent":["/* AppMode: The enumerated type for AppMode. */\r\n\r\n\r\nconst AppMode = {\r\n    ADMIN: \"AdminMode\",\r\n    LOGIN: \"LoginMode\",\r\n    HELP: \"HelpMode\", \r\n    MAIL: \"MailMode\", \r\n    PROFILE: \"ProfileMode\",\r\n    RESET: \"ResetMode\",\r\n    ASSIGNMENTS: \"AssignmentsMode\",\r\n    GRADES: \"GradesMode\",\r\n    USER_SETTINGS: \"UserSettingsMode\",\r\n    COURSE_SETTINGS : \"CourseSettingsMode\",\r\n    CREATE_COURSE: \"CreateCourseMode\", \r\n    DELETE_COURSE: \"DeleteCourseMode\", \r\n    FIND_COURSE: \"FindCourseMode\",\r\n    ANALYTICS: \"AnalyticsMode\",\r\n    USERS: \"UsersMode\",\r\n    REGISTER : \"RegisterMode\",\r\n    FEED: \"FeedMode\",\r\n    ROUNDS: \"RoundsMode\",\r\n    ROUNDS_LOGROUND: \"RoundsMode-LogRound\",\r\n    ROUNDS_EDITROUND: \"RoundsMode-EditRound\",\r\n    COURSES: \"CoursesMode\"\r\n};\r\n\r\nObject.freeze(AppMode); //This ensures that the object is immutable.\r\n\r\nexport default AppMode;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nimport '../styles/Dropdown.css';\r\n\r\nclass Dropdown extends React.Component {\r\nconstructor(props){\r\n super(props);\r\n\r\n};\r\n\r\n\r\nlogOut = () =>{\r\n  this.props.changeMode(AppMode.LOGIN);\r\n}\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n        <div  className=\"modal-dropdown\" role=\"dialog\" style = {{width:\"200px\"}} >\r\n\r\n          { this.props.displayMenu ?  this.props.type == \"profile\" ? (\r\n        <ul className = \"maindropdown\">\r\n         <li className = \"dropitem\"><a className=\"active\" href=\"#View Profile\" onClick={() =>this.props.changeMode(AppMode.MAIL)}>Mail(0)</a></li>\r\n         <li className = \"dropitem\"><a href=\"#Settings\" onClick={() =>this.props.changeMode(AppMode.PROFILE)}>View Profile</a></li>\r\n         <li className = \"dropitem\"><a href=\"#Settings\" onClick={() =>this.props.changeMode(AppMode.USER_SETTINGS)}>Settings</a></li>\r\n         <li className = \"dropitem\" onClick={this.logOut}><a href=\"#Log Out\">Log Out </a></li>\r\n          </ul>\r\n        ):\r\n        (\r\n          <ul className = \"maindropdown\">\r\n           <li className = \"dropitem\"><a className=\"active\" href=\"#Create Page\" onClick={() =>this.props.changeMode(AppMode.FIND_COURSE)}>Find Course</a></li>\r\n           <li className = \"dropitem\"><a href=\"#Create Course\" onClick={() =>this.props.changeMode(AppMode.COURSE_SETTINGS)}>Create Course</a></li>\r\n           <li className = \"dropitem\"><a href=\"#Delete Course\" onClick={() =>this.props.changeMode(AppMode.DELETE_COURSE)}>Delete Course </a></li>\r\n            </ul>\r\n          )\r\n        :\r\n        (\r\n          null\r\n        )\r\n        }\r\n\r\n       </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default Dropdown;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nimport Dropdown from './Dropdown'\r\nimport '../styles/Navbar.css';\r\nclass NavBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.namewidth = React.createRef()\r\n    this.coursewidth = React.createRef()\r\n    this.state = {\r\n      displayMenu: false,\r\n      type: \"\",\r\n      coursedropdown: false,\r\n      userdropdown: false,\r\n      extend: false\r\n    };\r\n\r\n  }\r\n\r\n\r\n  toggleShowDropdown = (newType) => {\r\n    this.setState(prevState => ({ displayMenu: !prevState.displayMenu }));\r\n    this.setType(newType);\r\n  }\r\n\r\n  switchMode = (newMode) => {\r\n    this.props.changeMode(newMode);\r\n  }\r\n\r\n  courseManagement = (newMode) =>{\r\n    this.props.createCourse(false);\r\n    this.props.changeMode(newMode);\r\n  }\r\n\r\n  setType = (newType) => {\r\n    this.setState({ type: newType });\r\n  }\r\n\r\n  renderStudentMode = () => {\r\n    return (\r\n      <div>\r\n        <span>&nbsp;&nbsp;&nbsp;</span>\r\n        <span className={this.props.mode == AppMode.FEED ? \"navbar-title item-selected\" : \"navbar-title\"} onClick={() => this.switchMode(AppMode.FEED)}>\r\n          &nbsp;{this.props.dashboard}&nbsp;\r\n      </span>\r\n        <span>&nbsp;&nbsp;&nbsp;</span>\r\n\r\n        <span className={this.props.mode == AppMode.ASSIGNMENTS ? \"navbar-title item-selected\" : \"navbar-title\"} onClick={() => this.switchMode(AppMode.ASSIGNMENTS)}>\r\n          &nbsp;{this.props.assignments}&nbsp;\r\n      </span>\r\n        <span>&nbsp;&nbsp;&nbsp;</span>\r\n\r\n        <span className={this.props.mode == AppMode.GRADES ? \"navbar-title item-selected\" : \"navbar-title\"} onClick={() => this.switchMode(AppMode.GRADES)}>\r\n          &nbsp;{this.props.grades}&nbsp;\r\n      </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInstructorMode = () => {\r\n    return (\r\n      <div>\r\n        &nbsp;&nbsp;&nbsp;\r\n        <button className={this.props.mode == AppMode.FEED ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n        id=\"NavBarFeed\" onClick={() => this.switchMode(AppMode.FEED)}>Dashboard</button>\r\n\r\n        <button className={this.props.mode == AppMode.ASSIGNMENTS ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n        id=\"NavBarAssignments\" onClick={() => this.switchMode(AppMode.ASSIGNMENTS)}>Assignments</button>\r\n        \r\n        <button className={this.props.mode == AppMode.GRADES ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n        id=\"NavBarGrades\" onClick={() => this.switchMode(AppMode.GRADES)}>Grades</button>\r\n        \r\n        {this.props.userObj.is_instructor || this.props.userObj.is_admin ? <button className={this.props.mode == AppMode.USERS ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} id=\"NavBarUsers\" \r\n           onClick={() => this.switchMode(AppMode.USERS)}>Users</button>: null}\r\n        \r\n        {this.props.userObj.is_instructor || this.props.userObj.is_admin ?<button className={this.props.mode == AppMode.COURSE_SETTINGS ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} \r\n           id=\"NavBarCourseSettings\" onClick={() => this.courseManagement(AppMode.COURSE_SETTINGS)}>Course Settings</button>: null}\r\n        \r\n        {this.props.userObj.is_instructor || this.props.userObj.is_admin ?<button className={this.props.mode == AppMode.ANALYTICS ?\r\n           \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} id=\"NavBarAnalytics\" \r\n           onClick={() => this.switchMode(AppMode.ANALYTICS)}>Analytics</button>: null}\r\n        \r\n        { this.props.userObj.is_admin == true ?<button className={this.props.mode == AppMode.ADMIN ? \"btn btn-primary navbutton selected\" : \"btn btn-primary navbutton\"} id=\"NavBarAnalytics\" onClick={() => this.switchMode(AppMode.ADMIN)}>Administrator</button> : null}\r\n\r\n      </div>\r\n\r\n\r\n    );\r\n  }\r\n  togglecoursedropdown = () => {\r\n    this.setState(prevstate => ({ coursedropdown: !prevstate.coursedropdown, userdropdown: false, extend: false }));\r\n  }\r\n  toggleuserdropdown = () => {\r\n    if (this.state.coursedropdown === true) {\r\n      this.setState({\r\n        extend: true\r\n      })\r\n      this.setState(prevstate => ({ userdropdown: !prevstate.userdropdown, coursedropdown: false }));\r\n    } else {\r\n      this.setState(prevstate => ({ userdropdown: !prevstate.userdropdown, coursedropdown: false, extend: false }));\r\n    }\r\n\r\n  }\r\n  gotopage = (string) => {\r\n    if (string == \"deletecourse\") {\r\n      this.props.changeMode(AppMode.DELETE_COURSE);\r\n    }\r\n    else if (string == \"findcourse\") {\r\n      this.props.changeMode(AppMode.FIND_COURSE);\r\n    }\r\n    else if (string == \"mail\") {\r\n      this.props.changeMode(AppMode.MAIL);\r\n    }\r\n    else if (string == \"profile\") {\r\n      this.props.changeMode(AppMode.PROFILE);\r\n    }\r\n    else if (string == \"settings\") {\r\n      this.props.changeMode(AppMode.USER_SETTINGS);\r\n    }\r\n    else if (string == \"logout\") {\r\n      this.props.changeMode(AppMode.LOGIN);\r\n    }\r\n    else if (string == \"createcourse\") {\r\n      this.props.createCourse(true)\r\n      this.props.changeMode(AppMode.COURSE_SETTINGS);\r\n    }\r\n\r\n    this.setState({\r\n      coursedropdown: false,\r\n      userdropdown: false\r\n    });\r\n  }\r\n\r\n  renderRightItems = () => {\r\n\r\n    return (\r\n\r\n      <div>\r\n        <button className=\"btn btn-primary navbutton\" ref={this.coursewidth} onClick={this.togglecoursedropdown}>{this.props.selectedCourse === null ? \"Not enrolled in any courses\" : this.props.selectedCourse.course_name}\r\n        &nbsp;\r\n        <span className={this.state.coursedropdown == true ? \"navbar-title fa fa-angle-left\" : \"navbar-title fa fa-angle-down\"}></span>\r\n        </button>\r\n\r\n        <button className=\"btn btn-primary navbutton\" id=\"profile\" ref={this.namewidth} onClick={this.toggleuserdropdown}>{this.props.userObj.first_name} {this.props.userObj.last_name}\r\n        &nbsp;\r\n        <span className={this.state.userdropdown == true ? \"navbar-title fa fa-angle-left\" : \"navbar-title fa fa-angle-down\"}></span></button>\r\n        <button className=\"btn btn-primary navbutton\" onClick={() => this.switchMode(AppMode.MAIL)}>Mail</button>\r\n        <button className=\"btn btn-primary navbutton\" id=\"viewHelp\" onClick={() => this.switchMode(AppMode.HELP)}>Help</button>\r\n\r\n        {this.state.coursedropdown ?\r\n          <div style={{ display: \"flex\", flexDirection: \"column\", top: \"61px\" }} className=\"mydropdownnav\">\r\n            <button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"findcourse\")} >Find Course</button>\r\n            <button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={this.props.userObj.is_instructor? () => this.gotopage(\"createcourse\"): null}>Create Course</button>\r\n            <button className=\"btn btn-primary navdropdown\" style={{ width: this.coursewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"deletecourse\")}>Delete Course</button>\r\n          </div>\r\n          :\r\n          null\r\n        }\r\n\r\n        {this.state.userdropdown ?\r\n          <div style={this.state.extend ? { display: \"flex\", flexDirection: \"column\", top: \"61px\", marginLeft: this.coursewidth.current.offsetWidth + 6 + \"px\" } : { display: \"flex\", flexDirection: \"column\", top: \"61px\", marginLeft: this.coursewidth.current.offsetWidth + \"px\" }} className=\"mydropdownnav\">\r\n            <button className=\"btn btn-primary navdropdown\" id=\"viewMail\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"mail\")}>Mail</button>\r\n            <button className=\"btn btn-primary navdropdown\" id=\"viewProfile\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"profile\")}>Profile</button>\r\n            <button className=\"btn btn-primary navdropdown\" id=\"viewSettings\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"settings\")}>Settings</button>\r\n            <button className=\"btn btn-primary navdropdown\" id=\"logoutButton\" style={{ width: this.namewidth.current.offsetWidth - 5, borderRadius: \"0px\" }} onClick={() => this.gotopage(\"logout\")}>Log Out</button>\r\n          </div>\r\n          :\r\n          null\r\n        }\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n  renderDropdown = () => {\r\n    return (<Dropdown />);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ padding: \"5px\" }}>\r\n        <div className=\"navbar\">\r\n          <span className=\"navbar-items\">\r\n            <img src=\"osble3.png\" alt=\"osble Logo\" height=\"50px\" onClick={() => this.switchMode(AppMode.FEED)} width=\"100px\" className=\"navbar-items\" />\r\n            {/* {this.renderStudentMode()} */}\r\n            {this.renderInstructorMode()}\r\n          </span>\r\n          <span className=\"navbar-items-right\">\r\n            {this.renderRightItems()}\r\n          </span>\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport AppMode from './../AppMode.js'\r\n\r\nclass SideMenu extends React.Component {\r\n\r\n//renderModeItems -- Renders correct subset of mode menu items based on\r\n//current mode, which is stored in this.prop.mode. Uses switch statement to\r\n//determine mode.\r\nrenderModeMenuItems = () => {\r\n  switch (this.props.mode) {\r\n    case AppMode.FEED:\r\n      return(\r\n        <div>\r\n        <a className=\"sidemenu-item\">\r\n            <span className=\"fa fa-users\"></span>&nbsp;Followed Users</a>\r\n        <a className=\"sidemenu-item \">\r\n            <span className=\"fa fa-search\"></span>&nbsp;Search Feed</a>\r\n        </div>\r\n      );\r\n    break;\r\n    case AppMode.ROUNDS:\r\n      return(\r\n        <div>\r\n          <a className=\"sidemenu-item\">\r\n            <span className=\"fa fa-plus\"></span>&nbsp;Log New Round</a>\r\n          <a className=\"sidemenu-item\">\r\n            <span className=\"fa fa-search\"></span>&nbsp;Search Rounds</a>\r\n        </div>\r\n      );\r\n    break;\r\n    case AppMode.COURSES:\r\n      return(\r\n        <div>\r\n        <a className=\"sidemenu-item\">\r\n            <span className=\"fa fa-plus\"></span>&nbsp;Add a Course</a>\r\n        <a className=\"sidemenu-item\">\r\n            <span className=\"fa fa-search\"></span>&nbsp;Search Courses</a>\r\n        </div>\r\n      );\r\n    default:\r\n        return null;\r\n    }\r\n}\r\n\r\n    render() {\r\n       return (\r\n        <div className={\"sidemenu \" + (this.props.menuOpen ? \"sidemenu-open\" : \"sidemenu-closed\")}\r\n             onClick={this.props.toggleMenuOpen}>\r\n          {/* SIDE MENU TITLE */}\r\n          <div className=\"sidemenu-title\">\r\n            <img src={this.props.profilePicURL} height='60' width='60' />\r\n            <span id=\"userID\" className=\"sidemenu-userID\">&nbsp;{this.props.displayName}</span>\r\n        </div>\r\n          {/* MENU CONTENT */}\r\n          {this.renderModeMenuItems()}\r\n          {/* The following menu items are present regardless of mode */}\r\n          {this.props.localAccount ? \r\n            <a id=\"accountBtn\" className=\"sidemenu-item\" onClick={this.props.editAccount}>\r\n              <span className=\"fa fa-user\"></span>&nbsp;Account</a> : null}\r\n          <a id=\"aboutBtn\" className=\"sidemenu-item\" onClick={this.props.showAbout}>\r\n            <span className=\"fa fa-info-circle\"></span>&nbsp;About</a>\r\n          <a id=\"logOutBtn\" className=\"sidemenu-item\" onClick={this.props.logOut}>\r\n            <span className=\"fa fa-sign-out-alt\"></span>&nbsp;Log Out</a>\r\n        </div>\r\n       );\r\n    }\r\n}\r\n\r\nexport default SideMenu;\r\n","import React from 'react';\r\nimport AppMode from '../AppMode.js';\r\n\r\n\r\nclass ModeBar extends React.Component {\r\n    render() {\r\n      return(\r\n        <div className={\"modebar\" + (this.props.mode === AppMode.LOGIN ||  this.props.mode === AppMode.REGISTER? \r\n          \" invisible\" : (this.props.menuOpen ? \" ignore-click visible\" : \" visible\"))}>\r\n        <a className={(this.props.mode === AppMode.FEED  || this.props.mode === AppMode.REGISTER? \" item-selected\" : null)}\r\n            onClick={()=>this.props.changeMode(AppMode.FEED)}>\r\n          <span className=\"modebaricon fa fa-th-list\"></span>\r\n          <span className=\"modebar-text\">Feed</span>\r\n        </a>\r\n        <a className={(this.props.mode === AppMode.ROUNDS || \r\n               this.props.mode === AppMode.ROUNDS_EDITROUND || \r\n               this.props.mode === AppMode.ROUNDS_LOGROUND ? \r\n                  \" item-selected\" : null)}\r\n           onClick={()=>this.props.changeMode(AppMode.ROUNDS)}>\r\n          <span className=\"modebar-icon  fa fa-history\"></span>\r\n          <span className=\"modebar-text\">Rounds</span>\r\n        </a>\r\n        <a className={(this.props.mode === AppMode.COURSES ? \" item-selected\" : null)}\r\n          onClick={()=>this.props.changeMode(AppMode.COURSES)}>\r\n          <span className=\"modebar-icon  fa fa-flag\"></span>\r\n          <span className=\"modebar-text\">Courses</span>\r\n        </a> \r\n        </div>\r\n      );\r\n    }\r\n}\r\n\r\nexport default ModeBar;\r\n","import React from 'react';\r\nimport AppMode from \"./../AppMode.js\"\r\n\r\nclass RegisterPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.emailRef = React.createRef();\r\n        this.confirm_emailRef = React.createRef();\r\n        this.passwordRef = React.createRef();\r\n        this.confirm_passwordRef = React.createRef();\r\n        this.fnameRef = React.createRef();\r\n        this.confirm_fnameRef = React.createRef();\r\n        this.lnameRef = React.createRef();\r\n        this.confirm_lnameRef = React.createRef();\r\n        this.IDRef = React.createRef();\r\n        this.confirmIDRef = React.createRef();\r\n\r\n        this.state = {\r\n            email: \"\",\r\n            confirm_email: \"\",\r\n            password: \"\",\r\n            confirm_password: \"\",\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            confirm_last_name: \"\",\r\n            confirm_first_name: \"\",\r\n            school: \"Washington State University\",\r\n            id: 0,\r\n            confirm_id: 0,\r\n            validated: true,\r\n        };\r\n    }\r\n\r\n    createAccount = async (event) => {\r\n        let userData = {\r\n            userid: this.state.id,\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            first_name: this.state.first_name,\r\n            last_name: this.state.last_name,\r\n            school: this.state.school,\r\n            is_instructor: false,\r\n            is_admin: this.state.id == 101 ||this.state.id == 102 || this.state.id == 103 ? true : false,\r\n        }\r\n        const url = '/users/' + this.state.id; \r\n        let res;\r\n        res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(userData)\r\n        });\r\n        console.log(res.status);\r\n        if (res.status == 201) { //successful account creation!\r\n            this.props.changeMode(AppMode.LOGIN);\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n\r\n        //this.props.changeMode(AppMode.LOGIN);\r\n    }\r\n    \r\n    handleRegister = (event) => {\r\n        event.preventDefault();\r\n        if (this.state.email == this.state.confirm_email &&\r\n            this.state.password == this.state.confirm_password &&\r\n            this.state.first_name == this.state.confirm_first_name &&\r\n            this.state.last_name == this.state.confirm_last_name &&\r\n            this.state.id == this.state.confirm_id) {\r\n            this.createAccount();\r\n        }\r\n\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        if (event.target.name == \"email\") {\r\n            this.setState({ email: event.target.value });\r\n        }\r\n\r\n        else if (event.target.name == \"confirm_email\") {\r\n            this.setState({ confirm_email: event.target.value });\r\n        }\r\n        else if (event.target.name == \"password\") {\r\n            this.setState({ password: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_password\") {\r\n            this.setState({ confirm_password: event.target.value });\r\n        }\r\n        else if (event.target.name == \"first_name\") {\r\n            this.setState({ first_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"last_name\") {\r\n            this.setState({ last_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_last_name\") {\r\n            this.setState({ confirm_last_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_first_name\") {\r\n            this.setState({ confirm_first_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"school\") {\r\n            this.setState({ school: event.target.value });\r\n        }\r\n        else if (event.target.name == \"id\") {\r\n            this.setState({ id: event.target.value });\r\n        }\r\n        else if (event.target.name == \"confirm_id\") {\r\n            this.setState({ confirm_id: event.target.value });\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"osblepage\">\r\n                <center>\r\n                    <img src=\"https://i.imgur.com/lBOwYfO.png\" style={{ position: \"relative\", right: \".7rem\" }}></img>\r\n                    <p className=\"paragraph\" style={{ color: 'white', fontWeight: 'bold' }}>\r\n                        Create a New Account &nbsp; <span className=\"fa fa-question-circle\"></span></p>\r\n                    <p className=\"paragraph\" style={{ color: 'white', fontWeight: 'bold' }}>Login Information</p>\r\n\r\n                    <div className=\"modal-body\">\r\n                        <form onSubmit={this.handleRegister}>\r\n                            <label className=\"form-label\">\r\n                                Email address\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"email\"\r\n                                    type=\"email\"\r\n                                    size=\"35\"\r\n                                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                                    required={true}\r\n                                    ref={this.emailRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm email address\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_email\"\r\n                                    type=\"email\"\r\n                                    size=\"35\"\r\n                                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                                    required={true}\r\n                                    ref={this.confirm_emailRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Password\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"password\"\r\n                                    type=\"password\"\r\n                                    id=\"passwordReg\"\r\n                                    size=\"35\"\r\n                                    pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                                    required={true}\r\n                                    ref={this.passwordRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm password\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_password\"\r\n                                    type=\"password\"\r\n                                    size=\"35\"\r\n                                    pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                                    required={true}\r\n                                    ref={this.confirm_passwordRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <p className=\"paragraph\" style={{ color: 'white', fontWeight: 'bold' }}>Identification</p>\r\n                            <label className=\"form-label\">\r\n                                First name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"first_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.fnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Last name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"last_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.lnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm last name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_last_name\"\r\n                                    id=\"confirm_last_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.confirm_lnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm first name\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text form-center\"\r\n                                    name=\"confirm_first_name\"\r\n                                    type=\"text\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.confirm_fnameRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <p className=\"paragraph form-label\">School Information</p>\r\n                            <p style={{ color: 'white' }}>Don't see your school in the list? Request that it be added</p>\r\n                            <label className=\"form-label\">\r\n                                <select name=\"school\" style={{ width: \"600px\" }}\r\n                                    className=\"form-control form-center\" onChange={this.handleOnChange}>\r\n                                    <option value=\"Washington State University\">Washington State University</option>\r\n                                    <option value=\"University of Washington\">University of Washington</option>\r\n                                    <option value=\"Western Washington University\">Western Washington University</option>\r\n                                    <option value=\"Seattle University\">Seattle University</option>\r\n                                </select>\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Student, Faculty, or Staff ID Number\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text\"\r\n                                    name=\"id\"\r\n                                    type=\"number\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.IDRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br />\r\n                            <label className=\"form-label\">\r\n                                Confirm Student, Faculty, or Staff ID Number\r\n                 <input style={{ width: \"600px\" }}\r\n                                    autocomplete=\"off\"\r\n                                    className=\"form-control form-text\"\r\n                                    name=\"confirm_id\"\r\n                                    type=\"number\"\r\n                                    size=\"35\"\r\n                                    required={true}\r\n                                    ref={this.confirmIDRef}\r\n                                    onChange={this.handleOnChange} />\r\n                            </label>\r\n                            <br></br>\r\n                            <button className=\"register-btn\" role=\"submit\" type=\"submit\">Register</button>\r\n                        </form>\r\n                    </div>\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default RegisterPage;","import React from 'react';\r\n\r\nclass ConfirmDeleteAccount extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.emailRef = React.createRef();\r\n        this.state = {emailMatches: false};\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.emailRef.current.focus();\r\n    }\r\n\r\n    handleChange = () => {\r\n        const match = (this.emailRef.current.value === this.props.email);\r\n        if (match != this.state.emailMatches) {\r\n            this.setState({emailMatches: match});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div id=\"aboutModal\" className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <center>\r\n                <h3 className=\"modal-title\"><b>Confirm Account Deletion</b></h3>\r\n              </center>\r\n               <button id=\"modalClose\" className=\"modal-close\" onClick={this.props.close}>\r\n                 &times;</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>Do you really want to delete your account? <br />\r\n                 <i>This action cannot be undone.</i></p>\r\n              <label>\r\n                Confirm Email ({this.props.email}):\r\n                <br/>\r\n                <input \r\n                    className=\"form-center\"\r\n                    type=\"text\"\r\n                    ref={this.emailRef}\r\n                    onChange={this.handleChange} />\r\n                </label>\r\n                <br />\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                  <button className=\"btn btn-danger\" onClick={this.props.deleteAccount} disabled={!this.state.emailMatches}>\r\n                  Yes, Delete My Account</button>\r\n                  <button className=\"btn btn-secondary\" onClick={this.props.close}>\r\n                  No, Cancel</button>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ConfirmDeleteAccount;","import React from 'react';\r\nimport ConfirmDeleteAccount from './ConfirmDeleteAccount.js';\r\nimport confirmDeleteAccount from './ConfirmDeleteAccount.js';\r\n\r\nclass CreateEditAccountDialog extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.origAccountInfo = null;\r\n        //Create a ref for the email input DOM element\r\n        this.newUserRef = React.createRef();\r\n        this.repeatPassRef = React.createRef();\r\n        this.profilePicRef = React.createRef();\r\n        this.state = {accountName: \"\",\r\n                      displayName: \"\",\r\n                      profilePicURL: \"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg\",\r\n                      password: \"\",\r\n                      passwordRepeat: \"\",\r\n                      securityQuestion: \"\",\r\n                      securityAnswer: \"\",\r\n                      formUpdated: false,\r\n                      confirmDelete: false};\r\n    } \r\n\r\n    //componentDidMount -- If we are editing an existing user acccount, we need to grab the data from\r\n    //the database and push them into the state.\r\n    async componentDidMount() {\r\n        if (!this.props.create) {\r\n            //obtain current user data from database and push into state\r\n            const url = \"/users/\" + this.props.userId;\r\n            const res = await fetch(url);\r\n            const json = await res.json();\r\n            const userData = JSON.parse(json);\r\n            this.origAccountInfo = userData; //This determines whether update can occur\r\n            this.origAccountInfo.passwordRepeat = userData.password;\r\n            this.setState({accountName: this.props.userId,\r\n                           displayName: userData.displayName,\r\n                           profilePicURL: userData.profilePicURL,\r\n                           password: userData.password,\r\n                           passwordRepeat: userData.password,\r\n                           securityQuestion: userData.securityQuestion,\r\n                           securityAnswer: userData.securityAnswer});\r\n        }\r\n    }\r\n\r\n    //checkDataValidity -- Callback function invoked after a form element in\r\n    //the 'Create Account' dialog box changes and component state has been\r\n    //updated. We first check whether the passwords match. If they do not, \r\n    //we set a custom validity message to be displayed when the user clicks the\r\n    //'Create Account' button. Otherwise, we reset the custom validity message\r\n    //to empty so that it will NOT fire when the user clicks 'Create Account'.\r\n    //Second, we check whether anything in the form changed from the original.\r\n    //If so, we update the 'formUpdated' state var, so that the form's submit\r\n    //button is enabled.\r\n    checkDataValidity = () => {\r\n        if (this.state.password != this.state.passwordRepeat) {\r\n            //Passwords don't match\r\n            this.repeatPassRef.current.setCustomValidity(\r\n            \"This password must match password entered in previous field.\");\r\n        } else {\r\n            this.repeatPassRef.current.setCustomValidity(\"\");\r\n        }\r\n    }\r\n\r\n    //handleChange--Called when a field in a dialog box form changes.\r\n    handleChange = (event) => {\r\n        const formUpdated = (this.origAccountInfo == null ? true : this.formIsUpdated(event.target.name,event.target.value));\r\n        if (event.target.name === \"profilePic\") {\r\n            if (event.target.value.length == 0) { //The user canceled the file selection -- set back to default\r\n                this.setState({profilePicURL: \"https://icon-library.net//images/default-profile-icon/default-profile-icon-24.jpg\",\r\n                               formUpdated: formUpdated},\r\n                               this.checkDataValidity);\r\n            } else { //The user selected a file\r\n                const self = this;\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(this.profilePicRef.current.files[0]);\r\n                reader.addEventListener(\"load\",function() {\r\n                    self.setState({profilePicURL:  this.result,\r\n                                   formUpdated: formUpdated},this.checkDataValidity);\r\n                });\r\n                \r\n            }\r\n        } else {\r\n            this.setState({[event.target.name]: event.target.value,\r\n                           formUpdated: formUpdated},this.checkDataValidity);\r\n        }\r\n    } \r\n\r\n    //formisUpdated-- Checks whether any form data element has changed from the original. If so, \r\n    //returns true. Returns false otherwise. Note that in case of editing new account, always returns\r\n    //true since this.origAccountInfo is set to null.\r\n    //Should be called whenever the user makes a change to form data.\r\n    formIsUpdated = (updateField,updateVal) => {\r\n        if (this.origAccountInfo[updateField] != updateVal) {return true;}\r\n        if (updateField != \"displayName\" && \r\n             this.state.displayName != this.origAccountInfo.displayName) \r\n             {return true;}\r\n        if (updateField != \"profilePicURL\" && \r\n             this.state.profilePicURL != this.origAccountInfo.profilePicURL) \r\n             {return true;}\r\n        if (updateField != \"password\" &&\r\n            this.state.password !== this.origAccountInfo.password)\r\n            {return true;}\r\n        if (updateField != \"passwordRepeat\" &&\r\n            this.state.passwordRepeat !== this.origAccountInfo.passwordRepeat)\r\n            {return true;}\r\n        if (updateField != \"securityQuestion\" &&\r\n            this.state.securityQuestion !== this.origAccountInfo.securityQuestion)\r\n            {return true;}\r\n        if (updateField != \"securityAnswer\" &&\r\n            this.state.securityAnswer !== this.origAccountInfo.securityAnswer)\r\n            {return true;}\r\n        return false;\r\n    }\r\n\r\n    //setDefaultDisplayName -- Triggered by onBlur() event of Email field.\r\n    //Sets default value of display name to value entered into Email field \r\n    //as a courtesy.\r\n    setDefaultDisplayName = (event) => {\r\n      if (event.target.value.length > 0 && this.state.displayName === \"\") {\r\n        this.setState({displayName: event.target.value});\r\n      }\r\n    }\r\n\r\n    //handleSubmit -- Triggered when user clicks on submit button to\r\n    //either create or edit account.\r\n    //Custom data checking ensures user account under this email does not \r\n    //already exist and that the rest of the info is valid. We create a new  \r\n    // object for user, save it to localStorage and take user to app's \r\n    //landing page. \r\n    handleSubmit = async(event) => {\r\n        event.preventDefault();\r\n        //Initialize user account\r\n        let userData = {\r\n            displayName: this.state.displayName,\r\n            password: this.state.password,\r\n            profilePicURL: this.state.profilePicURL,\r\n            securityQuestion: this.state.securityQuestion,\r\n            securityAnswer: this.state.securityAnswer\r\n        };\r\n        const url = '/users/' + this.state.accountName;\r\n        let res;\r\n        if (this.props.create) { //use POST route to create new user account\r\n            res = await fetch(url, {\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                    },\r\n                method: 'POST',\r\n                body: JSON.stringify(userData)}); \r\n            if (res.status == 200) { //successful account creation!\r\n                this.props.done(\"New account created! Enter credentials to log in.\",false);\r\n            } else { //Unsuccessful account creation\r\n                //Grab textual error message\r\n                const resText = await res.text();\r\n                this.props.done(resText,false);\r\n            }\r\n        } else { //use PUT route to update existing user account\r\n            res = await fetch(url, {\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                    },\r\n                method: 'PUT',\r\n                body: JSON.stringify(userData)}); \r\n            if (res.status == 200) { //successful account creation!\r\n                this.props.done(\"User Account Updated!\",false);\r\n            } else { //Unsuccessful account update\r\n                //Grab textual error message\r\n                const resText = await res.text();\r\n                this.props.done(resText,false);\r\n            }\r\n        }\r\n    }\r\n\r\n    //deleteAccount -- Called after confirms account deletion. \r\n    //Uses DELETE server route to perform server deletion. \r\n    //Calls on done with status message and\r\n    //true if delete was succesful, false otherwise.\r\n    deleteAccount = async() => {\r\n       const url = '/users/' + this.state.accountName;\r\n       const res = await fetch(url, \r\n                    {method: 'DELETE'}); \r\n        if (res.status == 200) { //successful account deletion!\r\n            this.props.done(\"Account '\" + this.state.accountName + \"' has been deleted.\",true);\r\n        } else { //Unsuccessful account deletion\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            this.props.done(resText,false);\r\n        }\r\n        this.setState({confirmDelete: false});\r\n    }\r\n\r\n    //confirmDeleteAccount -- Called when user clicks on \"Delete Account...\"\r\n    //button to indicate intention to delete account. Presents the Confirm\r\n    //Delete dialog box.\r\n    confirmDeleteAccount = (e) => {\r\n        e.preventDefault();\r\n        this.setState({confirmDelete: true});\r\n    }\r\n\r\n//     render() {\r\n//     return (  \r\n//     <div className=\"modal\" role=\"dialog\">\r\n//     <div className=\"modal-dialog modal-lg\"></div>\r\n//         <div className=\"modal-content form-center\">\r\n//             <div className=\"modal-header\">\r\n//               <h3><b>{this.props.create ? \"Create New Account\" : \"Edit Account\"}</b></h3>\r\n//               <button className=\"modal-close\" \r\n//                        onClick={this.props.cancel}>\r\n//                 &times;</button>\r\n//             </div>\r\n//             <div className=\"modal-body\">\r\n//             <form onSubmit={this.handleSubmit}>\r\n//             <label>\r\n//                 Email: \r\n//                 <input  \r\n//                 autocomplete=\"off\"\r\n//                 disabled={!this.props.create}\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"accountName\"\r\n//                 type=\"email\"\r\n//                 size=\"35\"\r\n//                 placeholder=\"Enter Email Address\"\r\n//                 pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n//                 required={true}\r\n//                 ref={this.newUserRef}\r\n//                 value={this.state.accountName}\r\n//                 onChange={this.handleChange}\r\n//                 onBlur={this.setDefaultDisplayName}\r\n//                 />\r\n//             </label>\r\n//             <br/>\r\n//             <label>\r\n//                 Password:\r\n//                 <input\r\n//                 autocomplete=\"off\"\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"password\"\r\n//                 type=\"password\"\r\n//                 size=\"35\"\r\n//                 placeholder=\"Enter Password\"\r\n//                 pattern=\r\n//                 \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n//                 required={true}\r\n//                 value={this.state.password}\r\n//                 onChange={this.handleChange}\r\n//                 />\r\n//             </label>\r\n//             <br/>\r\n//             <label>\r\n//                 Repeat Password:\r\n//                 <input\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"passwordRepeat\"\r\n//                 type=\"password\"\r\n//                 size=\"35\"\r\n//                 placeholder=\"Repeat Password\"\r\n//                 required={true}\r\n//                 ref={this.repeatPassRef}\r\n//                 value={this.state.passwordRepeat}\r\n//                 onChange={this.handleChange}\r\n//                 />\r\n//             </label>\r\n//             <br/>\r\n//             <label>\r\n//                 Display Name:\r\n//                 <input\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"displayName\"\r\n//                 type=\"text\"\r\n//                 size=\"30\"\r\n//                 placeholder=\"Display Name\"\r\n//                 required={true}\r\n//                 value={this.state.displayName}\r\n//                 onChange={this.handleChange}\r\n//                 />\r\n//             </label>\r\n//             <br/>\r\n//             <label>\r\n//                 Profile Picture:<br/>\r\n//                 <input\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"profilePic\"\r\n//                 type=\"file\"\r\n//                 accept=\"image/x-png,image/gif,image/jpeg\" \r\n//                 ref={this.profilePicRef}\r\n//                 value={this.state.profilePic}\r\n//                 onChange={this.handleChange}\r\n//                 />\r\n//                 <img src={this.state.profilePicURL != \"\" ? \r\n//                             this.state.profilePicURL :\r\n//                             this.state.profilePicDataURL} \r\n//                         height=\"60\" width=\"60\" \r\n//                  />\r\n//             </label> \r\n//             <br/>\r\n//             <label>\r\n//                 Security Question:\r\n//                 <textarea\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"securityQuestion\"\r\n//                 size=\"35\"\r\n//                 placeholder=\"Security Question\"\r\n//                 rows=\"2\"\r\n//                 cols=\"35\"\r\n//                 maxLength=\"100\"\r\n//                 required={true}\r\n//                 value={this.state.securityQuestion}\r\n//                 onChange={this.handleChange}\r\n//                 />\r\n//             </label>\r\n//             <br/>\r\n//             <label>\r\n//                 Answer to Security Question:\r\n//                 <textarea\r\n//                 className=\"form-control form-text form-center\"\r\n//                 name=\"securityAnswer\"\r\n//                 type=\"text\"\r\n//                 placeholder=\"Answer\"\r\n//                 rows=\"2\"\r\n//                 cols=\"35\"\r\n//                 maxLength=\"100\"\r\n//                 required={true}\r\n//                 value={this.state.securityAnswer}\r\n//                 onChange={this.handleChange}\r\n//                 />\r\n//             </label>\r\n//             <br/>\r\n//             {!this.props.create ?  \r\n//             <button className=\"btn btn-small btn-danger\" onClick={this.confirmDeleteAccount}>\r\n//                 Delete Account...\r\n//             </button> : null}\r\n//             <br/><br/>\r\n//             <button role=\"submit\" \r\n//                 disabled={!this.state.formUpdated}\r\n//                 className=\"btn btn-primary btn-color-theme modal-submit-btn\">\r\n//                 <span className={this.props.create ? \"fa fa-user-plus\" : \"fa fa-user\"}></span>\r\n//                 &nbsp;{this.props.create ? \"Create Account\" : \"Update Account\"}\r\n//             </button>\r\n//             </form>\r\n//             </div>\r\n//         </div>\r\n//         {this.state.confirmDelete ? \r\n//           <ConfirmDeleteAccount email={this.state.accountName}\r\n//                                 deleteAccount={this.deleteAccount}\r\n//                                 close={() => (this.setState({confirmDelete: false}))}\r\n//          /> : null}\r\n//     </div>\r\n//     );\r\n// }\r\n\r\n\r\n}\r\n\r\nexport default CreateEditAccountDialog;","import React from 'react'\r\nimport AppMode from \"../AppMode.js\"\r\n\r\nclass ResetPasswordPage extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.resetPasswordRef = React.createRef();\r\n        this.resetPasswordRepeatRef = React.createRef();\r\n        this.state = {errorMsg: \"\"};\r\n    }\r\n\r\n    //handleSubmit -- When the user submits the form, ensure that the passwords match.\r\n    //If so, call on resetPassword in parent component to actually reset the password.\r\n    //Otherwise, display an error message prompting the user to try again.\r\n    handleSubmit= (event) => {\r\n        event.preventDefault();\r\n        if (this.resetPasswordRef.current.value === this.resetPasswordRepeatRef.current.value) {\r\n            this.props.resetPassword(this.resetPasswordRef.current.value);\r\n        } else {\r\n            this.resetPasswordRepeatRef.current.focus();\r\n            this.setState({errorMsg: \"The passwords you entered do not match. Please try again.\"});\r\n        }\r\n    }\r\n\r\n    checkForSubmit = (e) => {\r\n        if (e.code === \"Enter\") {\r\n            e.preventDefault();\r\n            this.handleSubmit();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"osblepage\">\r\n                <center>\r\n                    <img src=\"https://i.imgur.com/lBOwYfO.png\" style={{position:\"relative\",right:\".7rem\"}}></img>\r\n                </center>\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h3 className=\"modal-title\"><b>Reset Password</b>\r\n                            </h3>\r\n                            <button className=\"modal-close\" \r\n                                onClick={this.props.cancelResetPassword}>\r\n                                &times;\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            {this.state.errorMsg != \"\" ? <p className=\"emphasis\">{this.state.errorMsg}</p> : null} \r\n                            <form onSubmit={this.handleSubmit}>\r\n                            <label>\r\n                                New Password: \r\n                                <input\r\n                                type=\"password\"\r\n                                placeholder=\"Enter new password\"\r\n                                pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                                className=\"form-control form-text\"\r\n                                ref={this.resetPasswordRef}\r\n                                />\r\n                            </label>\r\n                            <br></br>\r\n                            <label>\r\n                                Repeat New Password: \r\n                                <input\r\n                                type=\"password\"\r\n                                id=\"repeatPassword\"\r\n                                placeholder=\"Repeat new password\"\r\n                                className=\"form-control form-text\"\r\n                                onKeyUp={this.checkForSubmit}\r\n                                ref={this.resetPasswordRepeatRef}\r\n                                />\r\n                            </label>\r\n                            <br></br>\r\n                            <button role=\"submit\" \r\n                            className=\"btn btn-primary btn-color-theme form-submit-btn\">\r\n                                <span className=\"fa fa-key\"></span>&nbsp;Reset Password\r\n                            </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n          );\r\n        \r\n    }\r\n}\r\n\r\nexport default ResetPasswordPage;","import React from 'react';\r\nimport AppMode from '../AppMode.js';\r\n\r\nclass LookUpAccountDialog extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.emailRef = React.createRef();\r\n        this.state = {errorMsg: \"\"};\r\n    }\r\n\r\n    //handleLookUpAccount: When the user clicks on the \"Look Up Account\" dialog box\r\n    //button, we check whether the account exists. If it does, we update the state,\r\n    //setting the resetEmail var to the email entered, hiding the current dialog box\r\n    //and showing the security question dialog box.\r\n    handleLookUpAccount = async(event) => {\r\n        event.preventDefault();\r\n        let response = await fetch(\"/users/\" + this.emailRef.current.value);\r\n        if (response.status == 200) {\r\n            const json = await response.json();\r\n            const obj = JSON.parse(json);\r\n            if (obj.authStrategy === \"local\") {\r\n                this.props.getSecurityAnswer(obj.id,obj.securityQuestion, obj.securityAnswer);\r\n            } else { //Account exists but was created through OAuth so password can't be reset \r\n                this.setState({ErrMsg: \"That account is authenticated through \" + obj.authStrategy + \". \" +\r\n                               \"Please log in to \" + obj.authStrategy + \" to reset the password.\"});\r\n            }\r\n        } else {\r\n            this.setState({errorMsg: \"Sorry, there is no account associated with '\" + this.emailRef.current.value + \"'.\"});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"modal\" role=\"dialog\">\r\n              <div className=\"modal-dialog modal-lg\">\r\n                <div className=\"modal-content\">\r\n                  <div className=\"modal-header\">\r\n                    <h3 className=\"modal-title\"><b>Look Up Account</b></h3>\r\n                    <button className=\"modal-close\" \r\n                        onClick={() => {this.props.cancelResetPassword()}}>\r\n                        &times;\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"modal-body\">\r\n                    {this.state.errMsg != \"\" ? <p className=\"emphasis\">{this.state.errorMsg}</p> : null}\r\n                    <form onSubmit={this.handleLookUpAccount}>\r\n                    <label>\r\n                        Account Email Address: \r\n                        <input\r\n                        ref={this.emailRef}\r\n                        className=\"form-control form-text\"\r\n                        type=\"email\"\r\n                        size=\"35\"\r\n                        placeholder=\"Enter Email Address\"\r\n                        pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                        ref={this.emailRef}\r\n                        required={true}\r\n                        />\r\n                    </label>\r\n                    <button type=\"submit\" \r\n                        className=\"btn btn-primary btn-color-theme form-submit-btn\">\r\n                        <span className=\"fa fa-search\"></span>&nbsp;Look Up Account\r\n                    </button>\r\n                    </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>  \r\n        );   \r\n    }\r\n\r\n}\r\n\r\nexport default LookUpAccountDialog;\r\n","import React from 'react';\r\n\r\nclass SecurityQuestionDialog extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.securityAnswerRef = React.createRef();\r\n        this.state = {errorMsg: \"\"};\r\n    }\r\n\r\n    //Focus cursor in email secrity answer field when mounted\r\n    componentDidMount() {\r\n        this.securityAnswerRef.current.focus();\r\n    }  \r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (this.securityAnswerRef.current.value === this.props.answer) {\r\n            this.props.getNewPassword();\r\n        } else {\r\n            this.securityAnswerRef.current.focus();\r\n            this.setState({errorMsg: \"Sorry, that is not the correct answer to the security question. Try again.\"});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"modal\" role=\"dialog\">\r\n              <div className=\"modal-dialog modal-lg\">\r\n                <div className=\"modal-content\">\r\n                  <div className=\"modal-header\">\r\n                    <h3 className=\"modal-title\"><b>Answer Security Question</b>\r\n                    </h3>\r\n                    <button className=\"modal-close\" \r\n                        onClick={this.props.cancelResetPassword}>\r\n                        &times;\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"modal-body\">\r\n                    {this.state.errorMsg != \"\" ? <p className=\"emphasis\">{this.state.errorMsg}</p> : null} \r\n                    <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                        Security Question: \r\n                        <textarea\r\n                        readOnly={true}\r\n                        value={this.props.question}\r\n                        className=\"form-control form-text\"\r\n                        rows=\"3\"\r\n                        cols=\"35\"\r\n                        />\r\n                    </label>\r\n                    <label>\r\n                        Security Answer: \r\n                        <textarea\r\n                        className=\"form-control form-text\"\r\n                        placeholder=\"Enter Security Question Answer\"\r\n                        ref={this.securityAnswerRef}\r\n                        rows=\"3\"\r\n                        cols=\"35\"\r\n                        />\r\n                    </label>\r\n                    <button role=\"submit\" \r\n                      className=\"btn btn-primary btn-color-theme form-submit-btn\">\r\n                        <span className=\"fa fa-check\"></span>&nbsp;Verify Answer\r\n                    </button>\r\n                    </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          );        \r\n    }\r\n}\r\n export default SecurityQuestionDialog;","import React from 'react';\r\nimport RegisterPage from './RegisterPage.js';\r\nimport ResetPasswordPage from './ResetPasswordPage.js';\r\nimport LookUpAccountDialog from './LookUpAccountDialog.js';\r\nimport SecurityQuestionDialog from './SecurityQuestionDialog.js';\r\nimport './LoginPage.css';\r\nimport AppMode from '../AppMode.js';\r\nimport { async } from 'regenerator-runtime';\r\nclass LoginPage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        //Create a ref for the email input DOM element\r\n        this.emailInputRef = React.createRef();\r\n        this.resetUserId = \"\";\r\n        this.resetQ = \"\";\r\n        this.resetA = \"\";\r\n        this.passwordInputRef = React.createRef();\r\n        this.state = {\r\n            showCreateAccountDialog: false,\r\n            statusMsg: \"\",\r\n            loginBtnIcon: \"fa fa-sign-in\",\r\n            loginBtnLabel: \"Log In\",\r\n            showLookUpAccountDialog: false,\r\n            showSecurityQuestionDialog: false,\r\n            showResetPasswordPage: false,\r\n            githubIcon: \"fa fa-github\",\r\n            githubLabel: \"Sign in with GitHub\",\r\n            loginMsg: \"\",\r\n            newAccountCreated: false\r\n        };\r\n    }\r\n\r\n    //Focus cursor in email input field when mounted\r\n    componentDidMount() {\r\n        this.emailInputRef.current.focus();\r\n    }\r\n\r\n    //handleLoginSubmit -- Called when user clicks on login button.\r\n    handleLoginSubmit = async (event) => {\r\n        event.preventDefault();\r\n        this.setState({\r\n            loginBtnIcon: \"fa fa-spin fa-spinner\",\r\n            loginBtnLabel: \"\"\r\n        });\r\n\r\n        //this.props.changeMode(AppMode.FEED);\r\n        const url = \"auth/login?username=\" + this.emailInputRef.current.value +\r\n            \"&password=\" + this.passwordInputRef.current.value;\r\n        const res = await fetch(url, { method: 'POST' });\r\n        if (res.status == 200) { //successful login!\r\n            // if(this.props.userObj.userid == \"101\")\r\n            // {\r\n                \r\n            //     await this.setAdmin()\r\n            // }\r\n            window.open(\"/\", \"_self\");\r\n        } else { //Unsuccessful login\r\n            const resText = await res.text();\r\n            this.setState({\r\n                loginBtnIcon: \"fa fa-sign-in\",\r\n                loginBtnLabel: \"Log In\",\r\n                statusMsg: resText\r\n            });\r\n        }\r\n    }\r\n\r\n    //accountCreateDone -- Called by child CreateAccountDialog component when \r\n    //user attempted to create new account. Hide the dialog and display \r\n    //a message indicating result of the attempt.\r\n    accountCreateDone = (msg) => {\r\n        this.setState({\r\n            statusMsg: msg,\r\n            showCreateAccountDialog: false\r\n        });\r\n    }\r\n\r\n    //cancelCreateAccount -- Called by child CreateAccountDialog componenet when user decides\r\n    //to cancel creation of new account by clicking the \"X\" in top-right of dialog.\r\n    cancelCreateAccount = () => {\r\n        this.setState({ showCreateAccountDialog: false });\r\n    }\r\n\r\n    //cancelResetPassword -- Called by one of the child three child dialog box components when\r\n    //the user decides to cancel resetting their password. Toggles state so that all three\r\n    //of the dialog boxes are hidden\r\n    cancelResetPassword = () => {\r\n        this.resetUserId = \"\";\r\n        this.resetQ = \"\";\r\n        this.resetA = \"\";\r\n        this.setState({\r\n            showLookUpAccountDialog: false,\r\n            showSecurityQuestionDialog: false,\r\n            showResetPasswordPage: false\r\n        });\r\n    }\r\n\r\n    //handleOAuthLogin -- Callback function that initiates contact with OAuth\r\n    //provider\r\n    handleOAuthLogin = (provider) => {\r\n        window.open(`/auth/${provider}`, \"_self\");\r\n    }\r\n\r\n    //handleOAuthLoginClick -- Called whent the user clicks on button to\r\n    //authenticate via a third-party OAuth service. The name of the provider is\r\n    //passed in as a parameter.\r\n    handleOAuthLoginClick = (provider) => {\r\n        this.setState({\r\n            [provider + \"Icon\"]: \"fa fa-spin fa-spinner\",\r\n            [provider + \"Label\"]: \"Connecting...\"\r\n        });\r\n        setTimeout(() => this.handleOAuthLogin(provider), 1000);\r\n    }\r\n\r\n    //getSecurityAnswer: Given the id, security question, and security answer obtained\r\n    //from the LookUpAccountDialog component, update state such that the user will\r\n    //next be prompted to enter security question and answer for verification\r\n    getSecurityAnswer = (userId, question, answer) => {\r\n        this.resetUserId = userId;\r\n        this.resetQ = question;\r\n        this.resetA = answer;\r\n        this.setState({\r\n            showLookUpAccountDialog: false,\r\n            showSecurityQuestionDialog: true\r\n        });\r\n    }\r\n\r\n    //getNewPassword-- Called after user successfully provides correct answer\r\n    //to security question. Presents the \"Reset Password\" dialog box.\r\n    getNewPassword = () => {\r\n        this.setState({\r\n            showSecurityQuestionDialog: false,\r\n            showResetPasswordPage: true\r\n        });\r\n    }\r\n\r\n    //resetPassword--Called after the user successfully enters a new (acceptable)\r\n    //password. pw contains the new password. Call on the Update (PUT) server\r\n    //route to update the user's password in the database.\r\n    resetPassword = async (pw) => {\r\n        const url = \"/users/\" + this.resetUserId;\r\n        const res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n\r\n            method: 'PUT',\r\n            body: JSON.stringify({ password: pw })\r\n        });\r\n        if (res.status == 200) { //successful update creation!\r\n            this.setState({\r\n                showResetPaswordDialog: false,\r\n                statusMsg: \"Password successfully reset!\"\r\n            });\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            this.setState({\r\n                showResetPasswordPage: false,\r\n                statusMsg: resText\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    //newAccountCreated -- Called after successful creation of a new account\r\n    accountCreateDone = (msg, deleted) => {\r\n        this.setState({\r\n            statusMsg: msg,\r\n            showCreateAccountDialog: false\r\n        });\r\n    }\r\n\r\n\r\n\r\n    //closeStatusMsg -- Called when user clicks on \"x\" to dismiss status message\r\n    closeStatusMsg = () => {\r\n        this.setState({ statusMsg: \"\" });\r\n    }\r\n\r\n    reset = () => {\r\n        this.props.changeMode(AppMode.RESET)\r\n    }\r\n\r\n\r\n    //cancelCreateAccount -- called to hide Create Account dialog without creating acct\r\n    cancelCreateAccount = () => {\r\n        this.setState({ showCreateAccountDialog: false });\r\n    }\r\n\r\n    signUp = () => {\r\n        this.setState({ showCreateAccountDialog: true });\r\n        this.props.changeMode(AppMode.REGISTER);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"osblepage\" id=\"loginPage\">\r\n                <center>\r\n                    <div className=\"wrapper\">\r\n\r\n                        <img src=\"https://i.imgur.com/lBOwYfO.png\" style={{ position: \"relative\", right: \".7rem\" }}></img>\r\n                        {this.state.statusMsg != \"\" ? <div className=\"status-msg\"><span>{this.state.statusMsg}</span>\r\n                            <button className=\"modal-close\" onClick={this.closeStatusMsg}>\r\n                                <span className=\"fa fa-times\"></span>\r\n                            </button></div> : null}\r\n                        {this.state.showLookUpAccountDialog ?\r\n                            <LookUpAccountDialog cancelResetPassword={this.cancelResetPassword}\r\n                                getSecurityAnswer={this.getSecurityAnswer} /> : null}\r\n                        {this.state.showSecurityQuestionDialog ?\r\n                            <SecurityQuestionDialog cancelResetPassword={this.cancelResetPassword}\r\n                                question={this.resetQ}\r\n                                answer={this.resetA}\r\n                                getNewPassword={this.getNewPassword} /> : null}\r\n                        {this.state.showResetPaswordDialog ?\r\n                            <ResetPasswordPage cancelResetPassword={this.cancelResetPassword}\r\n                                resetPassword={this.resetPassword} /> : null}\r\n                        <form id=\"loginInterface\" onSubmit={this.handleLoginSubmit}>\r\n                            <label htmlFor=\"emailInput\" style={{ padding: 0, fontSize: 24, fontWeight: \"500\" }}>\r\n\r\n                                <input\r\n                                    style={{ backgroundColor: \"white\" }}\r\n                                    ref={this.emailInputRef}\r\n                                    className=\"form-control enterEmail\"\r\n                                    type=\"email\"\r\n                                    placeholder=\"Email\"\r\n                                    id=\"emailInput\"\r\n                                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n                                    required={true}\r\n                                />\r\n                            </label>\r\n\r\n                            <label htmlFor=\"passwordInput\" style={{ padding: 0, fontSize: 24, fontWeight: \"500\" }}>\r\n\r\n                                <input\r\n                                    ref={this.passwordInputRef}\r\n                                    className=\"form-control enterPassword\"\r\n                                    type=\"password\"\r\n                                    placeholder=\"Password\"\r\n                                    id=\"passwordInput\"\r\n                                    pattern=\"[A-Za-z0-9!@#$%^&*()_+\\-]+\"\r\n                                    required={true}\r\n                                />\r\n                            </label>\r\n\r\n                            <p className=\"bg-danger\" id=\"feedback\" style={{ fontSize: 16 }} />\r\n\r\n                            <button id=\"login-btn\"\r\n                                type=\"submit\"\r\n\r\n                                className=\" btn btn-primary btn-block LoginButton\">\r\n                                <span id=\"login-btn-icon\" className={this.state.loginBtnIcon} />\r\n                &nbsp;{this.state.loginBtnLabel}\r\n                            </button>\r\n                            <br></br>\r\n                            <p>\r\n                                <button type=\"button\" className=\"btn btn-link login-link\" id=\"createAccountBtn\"\r\n                                    onClick={this.signUp}>\r\n                                    Create an account</button> |\r\n                <button type=\"button\" className=\"btn btn-link login-link\" id=\"resetBtn\"\r\n                                    onClick={this.reset}>\r\n                                    Reset your password</button>\r\n                            </p>\r\n                            <p>\r\n                                <i>Developed by Hermes Obiang, Leonard Brkanac,\r\n                                     Joshua James Stallworth, Sean Brendan Washington,Tianhao Ye\r\n\r\n</i>\r\n                            </p>\r\n                        </form>\r\n\r\n                    </div>\r\n                </center>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport '../styles/FeedItem.css';\r\nexport default class FeedpostReply extends React.Component {\r\n \r\n    render() {\r\n        return (\r\n            <li key={this.props.key}>\r\n                <div style={{ width: \"98%\", boxShadow: \"0px 1px 5px rgba(0,0,0,0.55)\",borderRadius:\"5px\", margin: \".5rem\" }}>\r\n                    <div style={{ backgroundColor: \"#f5f5f5\",borderRadius:\"5px\" }}><div style={{ padding: \"3px\" }}><div style = {{marginLeft:\".4rem\"}}>{this.props.createdby}</div></div></div>\r\n                    <div id=\"replyItem\" style={{ padding: \"3px\", marginLeft: \".4rem\" }}>{this.props.content}</div>\r\n                        \r\n                </div>\r\n\r\n            </li>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\nimport '../styles/FeedItem.css';\r\nimport FeedPostReply from './FeedPostReply.js'\r\nexport default class FeedpostItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showReply: false,\r\n            replies: [{ createdby: \"Leonard\", content: \"Example Reply\", key: Date.now() }],\r\n            seeReplies: false\r\n        };\r\n\r\n\r\n    }\r\n\r\n    showReply = (e) => {\r\n        this.setState(prevstate => ({ showReply: !prevstate.showReply }));\r\n    }\r\n    addreply = (e) => {\r\n        var newpost = {\r\n            createdby: \"Leonard\",\r\n            content: this._inputElement.value,\r\n            key: Date.now()\r\n        }\r\n\r\n        this.setState(prevstate => ({ replies: [newpost].concat(prevstate.replies) }));\r\n        this._inputElement.value = \"\";\r\n        this.setState({\r\n            seeReplies: true\r\n        })\r\n        this.showReply();\r\n        e.preventDefault();\r\n    }\r\n    createntries = (entry) => {\r\n        return <FeedPostReply content={entry.content} createdby={entry.createdby} key={entry.key}></FeedPostReply>\r\n    }\r\n    seeReplies = (e) => {\r\n        this.setState(prevstate => ({ seeReplies: !prevstate.seeReplies }));\r\n    }\r\n    render() {\r\n        var JSONreplies = this.state.replies;\r\n        var JSXreplies = JSONreplies.map(this.createntries)\r\n        return (\r\n            <li key={this.props.key}>\r\n\r\n                <div style={{ width: \"98%\", boxShadow: \"0px 1px 5px rgba(0,0,0,0.55)\", margin: \".5rem\", borderRadius: \"5px\" }}>\r\n                    <div style={{ borderRadius: \"5px\", backgroundColor: \"#f5f5f5\" }}>\r\n                        <div style={{ padding: \"3px\" }}><div style={{ marginLeft: \".4rem\" }}>{this.props.createdby}</div></div></div>\r\n                    <div id=\"postItem\" style={{ padding: \"3px\", marginLeft: \".4rem\" }}>{this.props.content}</div>\r\n\r\n                    <form onSubmit={this.addreply}>\r\n                        {\r\n                            this.state.showReply ?\r\n                                <div >\r\n                                    <textarea required={true} ref={(a) => this._inputElement = a} className=\"postinput\" id=\"FeedReplyBox\" placeholder=\"Enter Reply Here...\" style={{ marginBottom: \"0px\" }}></textarea>\r\n\r\n                                </div>\r\n                                :\r\n                                null\r\n                        }\r\n                        {\r\n                            this.state.seeReplies ?\r\n                                <ul style={{ listStyleType: \"none\", padding: \"0px\" }}>\r\n                                    {JSXreplies}\r\n                                </ul>\r\n                                :\r\n                                null\r\n                        }\r\n                        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n                            <button type=\"button\" className=\"postitembutton\" id=\"FeedReplyButton1\" onClick={this.showReply}>{this.state.showReply ? \"Cancel\" : \"Reply\"}</button>\r\n                            <button type=\"button\" className=\"postitembutton\" id=\"FeedHide-Show-Reply\" onClick={this.seeReplies} style={{ width: \"8rem\" }}>{this.state.seeReplies ? \"Hide Replies\" : \"Show Replies \"}{this.state.seeReplies ? \"\" : \"(\" + this.state.replies.length + \")\"}</button>\r\n                            {\r\n                                this.state.showReply ?\r\n                                    <button className=\"postitembutton\" id=\"FeedReplyButton\" style={{ width: \"4rem\" }}>Submit</button>\r\n                                    :\r\n                                    null\r\n                            }\r\n\r\n                        </div>\r\n                    </form>\r\n\r\n\r\n                </div>\r\n\r\n            </li>\r\n\r\n        )\r\n    }\r\n};","import React from 'react';\r\nimport '../styles/FeedPage.css';\r\nimport FeedPostItem from './FeedPostItem.js'\r\nclass FeedPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { // each json object should follow at least this format\r\n            posts: [{ userid:111111111,createdby: \"Leonard\", content: \"Example Post\", key: Date.now() }],\r\n            showdropdown: false,\r\n            curselected: \"Everyone\",\r\n            isanonymous: false,\r\n        };\r\n\r\n\r\n    }\r\n    addpost = (e) => {\r\n        var newpost = {\r\n            createdby: \"Leonard\",\r\n            content: this._inputElement.value,\r\n            key: Date.now()\r\n        }\r\n        if (this.state.isanonymous == true) {\r\n            newpost.createdby = \"Anonymous\"\r\n        }\r\n        this.setState(prevstate => ({ posts: [newpost].concat(prevstate.posts) }));\r\n        this._inputElement.value = \"\";\r\n        e.preventDefault();\r\n    }\r\n    toggledropdown = (e) => {\r\n        this.setState(prevstate => ({ showdropdown: !prevstate.showdropdown }));\r\n\r\n    }\r\n    changeselected = (newfilter) => {\r\n        this.setState({\r\n            curselected: newfilter\r\n        })\r\n        this.toggledropdown();\r\n    }\r\n    setanonymous = (e) => {\r\n        this.setState(prevstate => ({ isanonymous: !prevstate.isanonymous }));\r\n    }\r\n    createntries = (entry) => {\r\n        return <FeedPostItem content={entry.content} createdby={entry.createdby} key={entry.key}></FeedPostItem>\r\n    }\r\n    render() {\r\n        var JSONposts = this.state.posts;\r\n        var JSXposts = JSONposts.map(this.createntries)\r\n        return (\r\n            <div className=\"feedpage\" id=\"feedPage\">\r\n                <div className=\"flexwrapper\">\r\n                    <div className=\"notifications\">\r\n                        <h1 style={{ margin: \".7rem\" ,fontSize:\"30px\"}}>Notifications</h1>\r\n                        <ul>\r\n                            <li>Notification 1</li>\r\n                            <li>Notification 2</li>\r\n                            <li>Notification 3</li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"feed\">\r\n                        <h1 style={{ margin: \".7rem\" ,fontSize:\"30px\"}}>Activity Feed</h1>\r\n\r\n                        <form onSubmit={this.addpost}>\r\n                            <textarea required={true} ref={(a) => this._inputElement = a} className=\"postinput\" id=\"FeedPostBox\" placeholder=\"Enter new post here...\"></textarea>\r\n                            <div style={{ display: \"flex\", flexDirection: \"row\", height: \"2.5rem\" }}>\r\n                                <button type=\"submit\" className=\"btn btn-primary\" id=\"FeedPostButton\" style={{ float: \"left\", marginLeft: \".5rem\" }}>Post</button>\r\n                                <button type=\"button\" onClick={() => this.toggledropdown()} className=\"btn btn-primary\" style={{ float: \"left\", marginLeft: \".5rem\", width: \"10rem\" }}>{this.state.curselected}</button>\r\n                                <input type=\"checkbox\" style={{ marginTop: \".8rem\", marginLeft: \"1rem\" }} onClick={this.setanonymous}></input>\r\n                                <p style={{ marginTop: \".4rem\", marginLeft: \".5rem\" }}>Post Anonymously</p>\r\n                            </div>\r\n                        </form>\r\n                        {this.state.showdropdown ?\r\n                            <div style={{ display: \"flex\", flexDirection: \"column\" }} className=\"mydropdown\">\r\n                                <button className=\"btn btn-primary\" style={{ width: \"10rem\", borderRadius: \"0px\" }} onClick={() => this.changeselected(\"Everyone\")}>Everyone</button>\r\n                                <button className=\"btn btn-primary\" style={{ width: \"10rem\", borderRadius: \"0px\" }} onClick={() => this.changeselected(\"Instructors only\")}>Instructors Only</button>\r\n                            </div>\r\n\r\n                            :\r\n                            null\r\n\r\n                        }\r\n                        \r\n                        <ul style={{ listStyleType: \"none\", padding: \"0px\" ,marginTop:\"1rem\"}}>\r\n                            {JSXposts}\r\n                        </ul>\r\n\r\n                    </div>\r\n                    <div className=\"files\">\r\n                        <h1 style={{ margin: \".7rem\" ,fontSize:\"30px\"}}>Files</h1>\r\n                        <ul>\r\n                            <li>File 1</li>\r\n                            <li>File 2</li>\r\n                            <li>File 3</li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FeedPage;","import React from 'react';\r\n\r\nclass ConfirmDeleteRound extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n        <div id=\"aboutModal\" className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <center>\r\n                <h3 className=\"modal-title\"><b>Confirm Round Deletion</b></h3>\r\n              </center>\r\n               <button id=\"modalClose\" className=\"modal-close\" onClick={this.props.close}>\r\n                 &times;</button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>Do you really want to delete this round?</p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                  <button className=\"btn btn-danger\" onClick={this.props.deleteRound}>\r\n                  Yes, Delete</button>\r\n                  <button className=\"btn btn-secondary\" onClick={this.props.close}>\r\n                  No, Cancel</button>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ConfirmDeleteRound;","import React from 'react';\r\nimport ConfirmDeleteRound from './ConfirmDeleteRound.js';\r\nimport AppMode from './../AppMode.js';\r\n\r\nclass RoundsTable extends React.Component {\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {showConfirmDelete: false};\r\n  }\r\n\r\n  //editRound -- Triggered when the user clicks the edit button for a given\r\n  //round. The id param is the unique property that identifies the round.\r\n  //Set the state variable representing the id of the round to be edited and\r\n  //then switch to the ROUNDS_EDITROUND mode to allow the user to edit the\r\n  //chosen round.\r\n  editRound = (id) => {\r\n    this.props.setEditId(id);\r\n    this.props.changeMode(AppMode.ROUNDS_EDITROUND);\r\n  }\r\n\r\n  //deleteRound -- Triggered when the user clicks on the \"Yes, Delete\"\r\n  //button in the Confirm Delete dialog box. It executes the deletion and\r\n  //closes the dialog box.\r\n  deleteRound = () => {\r\n    this.props.deleteRound();\r\n    this.setState({showConfirmDelete: false});\r\n  }\r\n\r\n\r\n  //confirmDelete -- Triggered when the user clicks the delete button\r\n  //for a given round. The id paam is the unique property that \r\n  //identifies the round. Set the state variable representing the id\r\n  //of the round to be deleted and then present a dialog box asking\r\n  //the user to confirm the deletion.\r\n  confirmDelete = (id) => {\r\n    this.props.setDeleteId(id);\r\n    this.setState({showConfirmDelete: true});\r\n  }\r\n\r\n\r\n  //renderTable -- render an HTML table displaying the rounds logged\r\n  //by the current user and providing buttons to view/edit and delete each round.\r\n  renderTable = () => {\r\n  let table = [];\r\n  for (let r = 0; r < this.props.rounds.length; ++r) {\r\n    table.push(\r\n      <tr key={r}>\r\n        <td>{this.props.rounds[r].date.substring(0,10)}</td>\r\n        <td>{this.props.rounds[r].course}</td>\r\n        <td>{(Number(this.props.rounds[r].strokes) + \r\n              Number(this.props.rounds[r].minutes)) +\r\n              \":\" + (this.props.rounds[r].seconds < 10 ?  \r\n                \"0\" + this.props.rounds[r].seconds :\r\n                this.props.rounds[r].seconds) + \" (\" + \r\n              this.props.rounds[r].strokes + \r\n              \" in \" + this.props.rounds[r].minutes + \":\" + \r\n              (this.props.rounds[r].seconds < 10 ?  \r\n                \"0\" + this.props.rounds[r].seconds :\r\n                this.props.rounds[r].seconds) + \")\"}\r\n        </td>\r\n        <td><button onClick={this.props.menuOpen ? null : () => \r\n          this.editRound(r)}>\r\n              <span className=\"fa fa-eye\"></span></button></td>\r\n        <td><button onClick={this.props.menuOpen ? null : \r\n          () => this.confirmDelete(r)}>\r\n              <span className=\"fa fa-trash\"></span></button></td>\r\n      </tr> \r\n    );\r\n  }\r\n  return table;\r\n  }\r\n\r\n  //render--render the entire rounds table with header, displaying a \"No\r\n  //Rounds Logged\" message in case the table is empty.\r\n  render() {\r\n    return(\r\n    <div className=\"padded-page\">\r\n      <h1></h1>\r\n      <table className=\"table table-hover\">\r\n        <thead className=\"thead-light\">\r\n        <tr>\r\n          <th>Date</th>\r\n          <th>Course</th>\r\n          <th>Score</th>\r\n          <th>View/Edit...</th>\r\n          <th>Delete</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Object.keys(this.props.rounds).length === 0 ? \r\n          <tr>\r\n          <td colSpan=\"5\" style={{fontStyle: \"italic\"}}>No rounds logged</td>\r\n          </tr> : this.renderTable()\r\n          }\r\n        </tbody>\r\n      </table>\r\n      {this.state.showConfirmDelete ?\r\n        <ConfirmDeleteRound \r\n          close={() => this.setState({showConfirmDelete: false})} \r\n          deleteRound={this.deleteRound} /> : null}\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RoundsTable;\r\n","import React from 'react';\r\nimport AppMode from './../AppMode.js';\r\n\r\nclass RoundForm extends React.Component {\r\n  constructor(props) {\r\n  super(props);\r\n  //Create date object for today, taking time zone into consideration\r\n  let today = new Date(Date.now()-(new Date()).getTimezoneOffset()*60000);\r\n  //store date as ISO string\r\n  if (this.props.mode === AppMode.ROUNDS_LOGROUND) {\r\n    //If logging a new round, the starting state is a default round with\r\n    //today's date.\r\n    this.state = {date:  today.toISOString().substr(0,10), \r\n                  course: \"\",\r\n                  type: \"practice\",\r\n                  holes: \"18\",\r\n                  strokes: 80,\r\n                  minutes: 50,\r\n                  seconds: \"00\",\r\n                  notes: \"\",\r\n                  faIcon: \"fa fa-save\",\r\n                  btnLabel: \"Save Round Data\"}\r\n  } else {\r\n    //if editing an existing round, the starting state is the round's\r\n    //current data\r\n    let thisRound = {...this.props.startData};\r\n    delete thisRound.id;\r\n    thisRound.faIcon = \"fa fa-edit\";\r\n    thisRound.btnLabel = \"Update Round Data\";\r\n    this.state = thisRound;\r\n  }\r\n}\r\n  \r\n  \r\n    handleChange = (event) => {\r\n        const name = event.target.name;\r\n        if (name === \"seconds\") {\r\n          let newSec = (event.target.value.length < 2 ? \"0\" + \r\n            event.target.value : event.target.value);\r\n          let newSGS = this.computeSGS(this.state.strokes, this.state.minutes, \r\n                                       newSec);\r\n          this.setState({seconds: newSec, SGS: newSGS});\r\n        } else if (name === \"strokes\") {\r\n          let newStrokes = event.target.value;\r\n          let newSGS = this.computeSGS(newStrokes, this.state.minutes, \r\n            this.state.seconds);\r\n          this.setState({strokes: newStrokes, SGS: newSGS});\r\n        } else if (name === \"minutes\") {\r\n            let newMin = event.target.value;\r\n            let newSGS = this.computeSGS(this.state.strokes, newMin, \r\n              this.state.seconds);\r\n            this.setState({minutes: newMin, SGS: newSGS});\r\n        } else {\r\n          this.setState({[name]: event.target.value});\r\n        }\r\n    }\r\n  \r\n  \r\n    //handleSubmit -- When the user clicks on the button to save/update the\r\n    //round, start the spinner and invoke the parent component's saveRound\r\n    //method to do the actual work. Note that saveRound is set to the correct\r\n    //parent method based on whether the user is logging a new round or editing\r\n    //an existing round.\r\n    handleSubmit = (event) => {\r\n        //start spinner\r\n        this.setState({faIcon: \"fa fa-spin fa-spinner\",\r\n                        btnLabel: (this.props.mode === AppMode.ROUNDS_LOGROUND ? \r\n                                    \"Saving...\" : \"Updating...\")});\r\n        //Prepare current round data to be saved\r\n        let roundData = this.state;\r\n        delete roundData.faIcon;\r\n        delete roundData.btnLabel;\r\n        //call saveRound on 1 second delay to show spinning icon\r\n        setTimeout(this.props.saveRound,1000,roundData); \r\n        event.preventDefault(); \r\n        }\r\n  \r\n\r\n    computeSGS = (strokes, min, sec) => {\r\n      return (Number(strokes) + Number(min)) \r\n                  + \":\" + sec;\r\n    }\r\n  \r\n    render() {\r\n      return (\r\n        <form className=\"padded-page\" onSubmit={this.handleSubmit}>\r\n          <center>\r\n            <label>\r\n              Date:\r\n              <input name=\"date\" className=\"form-control form-center\" \r\n                type=\"date\" value={this.state.date} onChange={this.handleChange} />\r\n            </label>\r\n            <p></p>\r\n            <label>\r\n              Course:\r\n              <input name=\"course\" className=\"form-control form-center\" type=\"text\"\r\n                value={this.state.course} onChange={this.handleChange}\r\n                placeholder=\"Course played\" size=\"50\" maxLength=\"50\" />\r\n            </label>\r\n          <p></p>\r\n          <label>Type:\r\n          <select name=\"type\" value={this.state.type} \r\n            className=\"form-control form-center\" onChange={this.handleChange}>\r\n            <option value=\"practice\">Practice</option>\r\n            <option value=\"tournament\">Tournament</option>\r\n          </select> \r\n          </label>\r\n          <p></p>\r\n          <label># Holes:\r\n          <select name=\"holes\" value={this.state.holes} \r\n            className=\"form-control form-center\" onChange={this.handleChange}>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"18\">18</option>\r\n          </select> \r\n          </label>\r\n          <p></p>\r\n          <label># Strokes:\r\n          <input name=\"strokes\" className=\"form-control form-center\" type=\"number\" \r\n            min=\"9\" max=\"200\" value={this.state.strokes} \r\n            onChange={this.handleChange} />\r\n          </label>\r\n          <p></p>\r\n          <label>Time: <br></br>\r\n          <input name=\"minutes\" type=\"number\" size=\"3\"\r\n            min=\"10\" max=\"400\" value={this.state.minutes}\r\n            onChange={this.handleChange} />:  \r\n          <input name=\"seconds\" type=\"number\" size=\"2\"\r\n            min=\"0\" max=\"60\" value={this.state.seconds} \r\n            onChange={this.handleChange} />\r\n          </label>\r\n          <p></p>\r\n          <label>Speedgolf Score: <br></br>\r\n              <input name=\"SGS\" className=\"form-center\" type=\"text\" size=\"6\" \r\n                disabled={true} value={this.computeSGS(this.state.strokes,this.state.minutes,this.state.seconds)} />\r\n          </label>\r\n          <p></p>\r\n          <label>Notes:\r\n              <textarea name=\"notes\" className=\"form-control\" rows=\"6\" cols=\"75\" \r\n                placeholder=\"Enter round notes\" value={this.state.notes} \r\n                onChange={this.handleChange} />\r\n          </label>\r\n          <p></p>\r\n          <p></p>\r\n          <button type=\"submit\" style={{width: \"70%\",fontSize: \"36px\"}} \r\n            className=\"btn btn-primary btn-color-theme\">\r\n              <span className={this.state.faIcon}/>&nbsp;{this.state.btnLabel}\r\n          </button>\r\n          </center>\r\n        </form>\r\n      );\r\n    }\r\n}\r\n\r\nexport default RoundForm;","import React from 'react';\r\n\r\nclass FloatingButton extends React.Component {\r\n    render() {\r\n      return(\r\n        <div className=\"floatbtn\" onClick={this.props.handleClick}>\r\n          <span className=\"floatbtn-icon fa fa-plus\"></span>\r\n        </div>  \r\n      );\r\n    }\r\n}\r\n\r\nexport default FloatingButton;\r\n","//Rounds -- A parent component for the app's \"rounds\" mode.\r\n//Manages the rounds data for the current user and conditionally renders the\r\n//appropriate rounds mode page based on App's mode, which is passed in as a prop.\r\n\r\nimport React from 'react';\r\nimport AppMode from './../AppMode.js';\r\nimport RoundsTable from './RoundsTable.js';\r\nimport RoundForm from './RoundForm.js';\r\nimport FloatingButton from './FloatingButton.js';\r\n\r\nclass Rounds extends React.Component {\r\n\r\n    //Initialize a Rounds object based on local storage\r\n    constructor() {\r\n        super();\r\n        this.deleteId = \"\";\r\n        this.editId = \"\";\r\n        this.state = {errorMsg: \"\"};           \r\n    }\r\n\r\n    //addRound -- Given an object newData containing a new round, use the \r\n    //server POST route to add the new round to the database. If the add is\r\n    //successful, call on the refreshOnUpdate() method to force the parent\r\n    //App component to refresh its state from the database and re-render itself,\r\n    //allowing the change to be propagated to the Rounds table. Then switch\r\n    //the mode back to AppMode.ROUNDS since the user is done adding a round.\r\n    addRound = async (newData) => {\r\n        const url = '/rounds/' + this.props.userObj.id;\r\n        const res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n                },\r\n            method: 'POST',\r\n            body: JSON.stringify(newData)}); \r\n        const msg = await res.text();\r\n        if (res.status != 200) {\r\n            this.setState({errorMsg: msg});\r\n            this.props.changeMode(AppMode.ROUNDS);\r\n        } else {\r\n            this.setState({errorMsg: \"\"});\r\n            this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n        }\r\n    }\r\n\r\n    //editRound -- Given an object newData containing updated data on an\r\n    //existing round, update the current user's round in the database. \r\n    //toggle the mode back to AppMode.ROUNDS since the user is done editing the\r\n    //round. \r\n    editRound = async (newData) => {\r\n        const url = '/rounds/' + this.props.userObj.id + '/' + \r\n            this.props.userObj.rounds[this.editId]._id;\r\n        const res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n                },\r\n            method: 'PUT',\r\n            body: JSON.stringify(newData)}); \r\n        const msg = await res.text();\r\n        if (res.status != 200) {\r\n            this.setState({errorMsg: msg});\r\n            this.props.changeMode(AppMode.ROUNDS);\r\n        } else {\r\n            this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n        }\r\n    }\r\n\r\n\r\n    //deleteRound -- Delete the current user's round uniquely identified by\r\n    //this.state.deleteId, delete from the database, and reset deleteId to empty.\r\n    deleteRound = async () => {\r\n        const url = '/rounds/' + this.props.userObj.id + '/' + \r\n            this.props.userObj.rounds[this.deleteId]._id;\r\n        const res = await fetch(url, {method: 'DELETE'}); \r\n        const msg = await res.text();\r\n        if (res.status != 200) {\r\n            this.setState({errorMsg: \"An error occurred when attempting to delete round from database: \" \r\n            + msg});\r\n            this.props.changeMode(AppMode.ROUNDS);\r\n        } else {\r\n            this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n        }  \r\n    }\r\n \r\n    //setDeleteId -- Capture in this.state.deleteId the unique id of the item\r\n    //the user is considering deleting.\r\n    setDeleteId = (val) => {\r\n        this.deleteId = val;\r\n        this.setState({errorMsg: \"\"});\r\n    }\r\n\r\n    //setEditId -- Capture in this.state.editId the unique id of the item\r\n    //the user is considering editing.\r\n    setEditId = (val) => {\r\n        this.editId = val;\r\n        this.setState({errorMsg: \"\"});\r\n    }\r\n\r\n    closeErrorMsg = () => {\r\n        this.setState({errorMsg: \"\"});\r\n    }\r\n    \r\n    //render -- Conditionally render the Rounds mode page as either the rounds\r\n    //table, the rounds form set to obtain a new round, or the rounds form set\r\n    //to edit an existing round.\r\n    render() {\r\n        switch(this.props.mode) {\r\n            case AppMode.ROUNDS:\r\n                return (\r\n                    <>\r\n                    {this.state.errorMsg != \"\" ? <div className=\"status-msg\"><span>{this.state.errorMsg}</span>\r\n                       <button className=\"modal-close\" onClick={this.closeErrorMsg}>\r\n                          <span className=\"fa fa-times\"></span>\r\n                        </button></div>: null}\r\n                    <RoundsTable \r\n                        rounds={this.props.userObj.rounds}\r\n                        setEditId={this.setEditId}\r\n                        setDeleteId={this.setDeleteId}\r\n                        deleteRound={this.deleteRound}\r\n                        changeMode={this.props.changeMode}\r\n                        menuOpen={this.props.menuOpen} /> \r\n                    <FloatingButton\r\n                        handleClick={() => \r\n                        this.props.changeMode(AppMode.ROUNDS_LOGROUND)}\r\n                        menuOpen={this.props.menuOpen}\r\n                        icon={\"fa fa-plus\"} />\r\n                    </>\r\n                );\r\n            case AppMode.ROUNDS_LOGROUND:\r\n                return (\r\n                    <RoundForm\r\n                        mode={this.props.mode}\r\n                        startData={\"\"} \r\n                        saveRound={this.addRound} />\r\n                );\r\n            case AppMode.ROUNDS_EDITROUND:\r\n                let thisRound = {...this.props.userObj.rounds[this.editId]};\r\n                thisRound.date = thisRound.date.substr(0,10);\r\n                if (thisRound.seconds < 10) {\r\n                    thisRound.seconds = \"0\" + thisRound.seconds;\r\n                } \r\n                delete thisRound.SGS;\r\n                return (\r\n                    <RoundForm\r\n                        mode={this.props.mode}\r\n                        startData={thisRound} \r\n                        saveRound={this.editRound} />\r\n                );\r\n        }\r\n    }\r\n\r\n}   \r\n\r\nexport default Rounds;\r\n","import React from 'react';\r\n\r\nclass CoursesPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"padded-page\">\r\n            <center>\r\n            <h1 >Courses</h1>\r\n            <h2>This page is under construction.</h2>\r\n            <img src=\"https://dl.dropboxusercontent.com/s/qpjhy9x9gwdxpob/SpeedScoreLogo64Trans.png\" \r\n             height=\"200\" width=\"200\"/>\r\n            <p style={{fontStyle: \"italic\"}}>Version CptS 489 React Demo</p>\r\n            </center>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default CoursesPage;","import React from 'react';\r\n\r\nclass AboutBox extends React.Component {\r\n\r\nrender() {\r\n    return (\r\n        <div className=\"modal\" role=\"dialog\">\r\n        <div className=\"modal-dialog modal-lg\">\r\n            <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n                <h3>About SpeedScore</h3>\r\n                <button className=\"modal-close\" onClick={this.props.close}>\r\n                    &times;\r\n                </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n                <img\r\n                src=\"https://dl.dropboxusercontent.com/s/awuwr1vpuw1lkyl/SpeedScore4SplashLogo.png\"\r\n                height=\"200\" width=\"200\"/>\r\n                <h3>The World's First and Only Suite of Apps for\r\n                Speedgolf</h3>\r\n                <p>Version CptS 489 Fa20 Complete (MERN)<br/>\r\n                &copy; 2017-20 The Professor of Speedgolf. All rights\r\n                reserved.\r\n                </p>\r\n                <div style={{textAlign: \"left\"}}>\r\n                <p>SpeedScore apps support</p>\r\n                <ul>\r\n                <li>live touranment scoring (<i>SpeedScore Live&reg;</i>)</li>\r\n                <li>tracking personal speedgolf rounds and sharing results\r\n                (<i>SpeedScore Track&reg;</i>)</li>\r\n                <li>finding speedgolf-friendly courses, booking tee times, and\r\n                paying to play speedgolf by the minute (<i>SpeedScore\r\n                Play&reg;</i>)</li>\r\n                </ul>\r\n                <p>SpeedScore was first developed by Dr. Chris Hundhausen,\r\n                associate professor of computer science at Washington State\r\n                University and the <i>Professor of Speedgolf</i>, with support\r\n                from Scott Dawley, CEO of Speedgolf USA, LLC.</p>\r\n                <p>For more information on SpeedScore, visit <a\r\n                href=\"http://speedscore.live\" target=\"_blank\">SpeedScore's web\r\n                site</a>. For more information on speedgolf, visit <a\r\n                href=\"http://playspeedgolf.com\"\r\n                target=\"_blank\">playspeedgolf.com</a> and <a\r\n                href=\"http://usaspeedgolf.com\" target=\"_blank\">Speedgolf\r\n                USA</a>.</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n                <button className=\"btn btn-primary btn-color-theme\"\r\n                onClick={this.props.close}>OK</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n    }\r\n}\r\n\r\nexport default AboutBox;","import React from 'react'\r\n// Code from https://medium.com/@subalerts/create-dynamic-table-from-json-in-react-js-1a4a7b1146ef\r\nexport default class GradeTable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.getHeader = this.getHeader.bind(this);\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n        this.getKeys = this.getKeys.bind(this);\r\n    }\r\n\r\n    getKeys = function () {\r\n        return Object.keys(this.props.data[0]);\r\n    }\r\n\r\n    getHeader = function () {\r\n        var keys = this.getKeys();\r\n        return keys.map((key, index) => {\r\n            return <th key={key}>{key.toUpperCase()}</th>\r\n        })\r\n\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        var keys = this.getKeys();\r\n        return items.map((row, index) => {\r\n            return <tr key={index}><RenderRow key={index} data={row} keys={keys} /></tr>\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>{this.getHeader()}</tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {this.getRowsData()}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst RenderRow = (props) => {\r\n\r\n    return props.keys.map((key, index) => {\r\n        return <td key={props.data[key]}>{props.data[key]}</td>\r\n    })\r\n\r\n}\r\n","import React from 'react';\r\nimport GradeTable from './GradeTable'\r\n\r\nclass GradesPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data : [\r\n                {'ID':'Total:', 'Student': '', 'Assignment 1': 100, 'Assignment 2': 100},\r\n                {'ID': '11645278', 'Student': 'Sean', 'Assignment 1': 100, 'Assignment 2': 95},\r\n                {'ID': '11111111', 'Student': 'John', 'Assignment 1': 95, 'Assignment 2': 95}\r\n                \r\n            ],\r\n            hasGradebook : true\r\n\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"feedpage\" id=\"gradePage\">\r\n                <center>\r\n                    <h1>Gradebook </h1>\r\n                    <button id=\"gbOptions\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#gbOptionsModal\">Gradebook Options</button>\r\n                    {/* <div id=\"gbOptionsModal\" class=\"modal fade\" role=\"dialog\">\r\n                        <div class=\"modal-dialog\">\r\n\r\n                            <div class=\"modal-content\">\r\n                                <div class=\"modal-header\">\r\n                                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\"></button>\r\n                                    <h4 class=\"modal-title\">Gradebook Options</h4>\r\n                                </div>\r\n                                <div class=\"modal-body\">\r\n                                    <div class=\"options\">\r\n                                        <form enctype=\"multipart/form-data\" method=\"post\" action=\"/Gradebook/DeleteAllGradebooks\" id=\"delete_submit\">\r\n                                            <button type=\"submit\" class=\"btn btn-primary \"> Delete All Gradebooks</button>\r\n                                        </form>\r\n                                    </div>\r\n                                    <div class=\"options\">\r\n                                        <form enctype=\"multipart/form-data\" method=\"post\" action=\"/Gradebook/DownloadGradebook\">\r\n                                            <button type=\"submit\" class=\"btn btn-primary \"> Download Gradebook (Zipped CSVs)</button>\r\n                                        </form>\r\n                                        <br>\r\n                                            <form enctype=\"multipart/form-data\" method=\"post\" action=\"/Gradebook/DownloadGradebookXLSX\">\r\n                                                <button type=\"submit\" class=\"btn btn-primary \"> Download Gradebook (Excel XLSX)</button>\r\n                                            </form>\r\n                                        </br>\r\n                                    </div>\r\n                                    <div class=\"options uForm\">\r\n\r\n                                        <form id=\"upload_gradebook\" enctype=\"multipart/form-data\" method=\"post\" action=\"/Gradebook/UploadGradebook\">\r\n                                            <div class=\"form-group\">\r\n                                                <input class=\"file\" type=\"file\" id=\"file\" name=\"file\" onchange=\"check_extension(this.value)\"></input>\r\n                                                <div class=\"input-group \">\r\n                                                    <input type=\"text\" class=\"form-control input-lg\" disabled=\"\" placeholder=\"Upload .csv or .zip containing multiple .csv\"></input>\r\n                                                    <span class=\"input-group-btn\">\r\n                                                        <button class=\"browse btn btn-primary input-lg\" type=\"button\"><i class=\"\"></i> Upload<br>Gradebook(s)</br></button>\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <span id=\"errorMsg\"></span>\r\n                                                </div>\r\n                                                <input class=\"btn btn-primary\" id=\"upload\" type=\"submit\" value=\"Upload Selected Gradebook(s)\" disabled=\"disabled\"></input>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"modal-footer\">\r\n                                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n */}\r\n                    {/* <h3>No Gradebook Uploaded.</h3> */}\r\n                    {/* <h1 >Grades</h1>\r\n            <h2>This page is under construction.</h2>\r\n            <img src=\"osble2.png\" \r\n             height=\"200\" width=\"200\"/>\r\n            <p style={{fontStyle: \"italic\"}}>Version CptS 489 React Demo</p> */}\r\n                <GradeTable data={this.state.data}/>\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GradesPage;","import React from \"react\";\r\n\r\nexport default class Assignment extends React.Component {\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n    state = {\r\n        assignmentid: this.props.assignmentid\r\n    }\r\n    render() {\r\n        return (\r\n            <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                <td >{<div style={{ marginTop: \"1rem\",marginLeft:\".8rem\" }}>{this.props.assignment}</div>}</td>\r\n                <td >{<div style={{ marginTop: \"1rem\" }}>{this.props.duedate}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".35rem\" }}>{this.props.didsubmit ? <button onClick={() => { this.props.showModal(this.state.assignmentid) }} style={{width:\"5rem\",marginLeft:\"0px\"}} className=\"postitembutton\" >Resubmit</button>:<button style={{width:\"5rem\",marginLeft:\"0px\"}} className=\"postitembutton\" onClick={() => { this.props.showModal(this.state.assignmentid) }}>Submit</button>}</div>}</td>\r\n                <td>{<div style={{ marginTop: \"1rem\" }}>{this.props.latestactivity}</div>}</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\n\r\nexport default class AssignmentProf extends React.Component {\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n    render() {\r\n        return (\r\n            <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                \r\n                <td >{<div style={{ marginTop: \"1rem\",marginLeft:\".8rem\" }}>{this.props.assignment}</div>}</td>\r\n                <td >{<div style={{ marginTop: \"1rem\" }}>{this.props.duedate}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".35rem\" }}><button style={{width:\"5rem\",marginLeft:\"0px\"}} className=\"postitembutton\" >View</button></div>}</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n};","import React from \"react\";\r\nimport '../styles/FeedItem.css';\r\nimport Assignment from './Assignment.js'\r\nimport AssignmentProf from './AssignmentProf.js'\r\nexport default class AssignmentsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            assignments: [],\r\n            createAssignment: false,\r\n            showModal: false,\r\n            curassignmentid: \"\",\r\n        };\r\n        // old assignment format assignment: \"Assignment 1\", duedate: \"11/18/2020 11:59 PM\", didsubmit: false, latestactivity: \"\"\r\n\r\n\r\n    }\r\n\r\n    updateGrade = async (e) => {\r\n        this.setState({\r\n            showModal: false\r\n        })\r\n        var submission_content = e.target[0].value;\r\n        e.preventDefault();\r\n        console.log(submission_content);\r\n        const url = '/courses/updategrade/' + this.props.selectedCourse.course_name;\r\n        let body = { userid: this.props.userObj.userid, assignmentid: this.state.curassignmentid, grade: -1, submit_date: '12/7/2020', submission_content: submission_content };\r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'PUT',\r\n            body: JSON.stringify(body)\r\n        });\r\n        if (res.status == 200) { //successful account creation!\r\n\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n\r\n\r\n    }\r\n    showModal = (assignmentid) => {\r\n        if (assignmentid) {\r\n            this.setState({\r\n                curassignmentid: assignmentid\r\n            })\r\n        }\r\n        this.setState(prevstate => ({ showModal: !prevstate.showModal }))\r\n\r\n    }\r\n    createntries = (entry) => {\r\n        if (this.props.userObj.is_instructor === true) {\r\n            return <AssignmentProf showSubmissions={this.showModal} assignmentid={entry._id} assignment={entry.assignment_name} duedate={entry.due_date} didsubmit={false} latestactivity={\"\"}></AssignmentProf>\r\n        } else {// will need to retrieve the grade object corresponding to assignment and student in the current class for didsubmit and latestactivity\r\n            return <Assignment showModal={this.showModal} assignmentid={entry._id} assignment={entry.assignment_name} duedate={entry.due_date} didsubmit={false} latestactivity={\"\"}></Assignment>\r\n        }\r\n\r\n    }\r\n    /*\r\n    const assignmentSchema = new Schema({\r\n        assignment_name: String,\r\n        assignment_content: String,\r\n        instructor: String,\r\n        due_date: Number,\r\n        grades: [gradeSchema] // each student will be:\r\n      \r\n      });\r\n      */\r\n    createAssignment = async (e) => {\r\n        var curClass = this.props.selectedCourse.course_name // name of currently selected class\r\n        var newGrades = []\r\n        var assignmentName = e.target[0].value;\r\n        var assignmentText = e.target[2].value;\r\n        var assignmentDue = e.target[1].value;\r\n        e.preventDefault();\r\n        let response = await fetch(\"/courses/\" + curClass);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        var studentarray = obj.students;\r\n        for (const student in studentarray) {\r\n            newGrades.push({\r\n                userid: studentarray[student],\r\n                grade: -2, // -2 means didnt submit, -1 means did submit, anything >=0 is a grade\r\n                submission_content: \"\", // this is where we will store submissions\r\n                submit_date: \"\"\r\n            })\r\n        }\r\n        let assignmentData = {\r\n            assignment_name: assignmentName,\r\n            assignment_content: assignmentText,\r\n            instructor_id: this.props.userObj.userid,\r\n            due_date: assignmentDue,\r\n            grades: newGrades\r\n        }\r\n        const url = '/assignments/' + curClass; // should be \r\n        let res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(assignmentData)\r\n        });\r\n        if (res.status == 200) { //successful account creation!\r\n            this.forceUpdate();\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n        }\r\n\r\n\r\n\r\n    }\r\n    toggleCreate = (e) => {\r\n        this.setState(prevstate => ({ createAssignment: !prevstate.createAssignment }))\r\n    }\r\n    getAssignments = async () => {\r\n        let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        console.log(obj.assignments);\r\n        this.setState({\r\n            assignments: obj.assignments\r\n        })\r\n        //return [{ assignment: \"Assignment 1\", duedate: \"11/18/2020 11:59 PM\", didsubmit: false, latestactivity: \"\" },\r\n        //{ assignment: \"Assignment 2\", duedate: \"11/23/2020 11:59 PM\", didsubmit: true, latestactivity: \"Submitted 11/18/2020 10:43 PM\" }]\r\n    }\r\n    componentDidMount = async () => {\r\n        // get most recent list of assignments\r\n        let response = await fetch(\"/courses/\" + this.props.selectedCourse.course_name);\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        console.log(obj.assignments);\r\n        this.setState({\r\n            assignments: obj.assignments\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        var JSONassignments = this.state.assignments;\r\n        var JSXassignments = JSONassignments.map(this.createntries)\r\n        return (\r\n            <div className=\"feedpage\" id=\"assignmentPage\">\r\n                <h1 style={{ margin: \"1.5rem\", fontSize: \"30px\" }}>Assignments</h1>\r\n                {\r\n                    this.state.showModal ?\r\n                        <div className=\"modal\" role=\"dialog\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <p className=\"modal-title\">Create Submission</p>\r\n                                    <button className=\"btn btn-primary\" onClick={this.showModal}>\r\n                                        &times;</button>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <form onSubmit={this.updateGrade}>\r\n                                        <textarea style ={{width:\"90%\",height:\"500px\"}}></textarea>\r\n                                        <div className=\"modal-footer\">\r\n\r\n                                            <button type=\"submit\" className=\"btn btn-primary\" >\r\n                                                Submit</button>\r\n\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                        :\r\n                        null\r\n                }\r\n\r\n                {this.props.userObj.is_instructor ?\r\n                    <div>\r\n                        <button onClick={this.toggleCreate}>Create Assignment</button>\r\n                        {this.state.createAssignment ?\r\n                            <div>\r\n                                <form onSubmit={this.createAssignment}>\r\n                                    <input type=\"text\" name=\"assignmentName\" required={true} placeholder=\"Assignment Name\" />\r\n                                    <input type=\"text\" required={true} placeholder=\"Due: mm/dd/yyyy\" />\r\n                                    <textarea name=\"assignmentText\" type=\"text\" required={true} placeholder=\"Enter Assignment Details here...\"></textarea>\r\n                                    <button type=\"submit\" className=\"btn btn-primary\" >Create</button>\r\n                                </form>\r\n                            </div>\r\n                            :\r\n                            null\r\n                        }\r\n                        <table className=\"table table-hover\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th style={{ width: \"25rem\", paddingLeft: \"1.5rem\" }}>Assignment</th>\r\n                                    <th>Due Date</th>\r\n                                    <th>View Submissions</th>\r\n                                </tr>\r\n\r\n                            </thead>\r\n                            <tbody>\r\n                                {JSXassignments}\r\n\r\n                            </tbody>\r\n\r\n                        </table>\r\n                    </div>\r\n                    :\r\n                    <table className=\"table table-hover\">\r\n                        <thead className=\"thead-light\">\r\n                            <tr>\r\n                                <th style={{ width: \"25rem\", paddingLeft: \"1.5rem\" }}>Assignment</th>\r\n                                <th>Due Date</th>\r\n                                <th>Actions</th>\r\n                                <th>Latest Activity</th>\r\n                            </tr>\r\n\r\n                        </thead>\r\n                        <tbody>\r\n                            {JSXassignments}\r\n\r\n                        </tbody>\r\n\r\n                    </table>\r\n                }\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n};","import React from 'react';\r\n\r\nclass AnalyticsPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\" id=\"analyticsPage\">\r\n            <center>\r\n            <h1 >Analytics</h1>\r\n            <h2>This page is under construction.</h2>\r\n            <img src=\"osble2.png\" \r\n             height=\"200\" width=\"200\"/>\r\n            <p style={{fontStyle: \"italic\"}}>Version CptS 489 React Demo</p>\r\n            </center>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default AnalyticsPage;","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport AppMode from '../AppMode';\r\nimport '../styles/courseSettings.css';\r\n\r\nclass CourseSettingsPage extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n        prefix: \"\",\r\n        course_number: 0,\r\n        course_name: \"\",\r\n        term: \"\",\r\n        year: 0,\r\n        start_date: \"\",\r\n        end_date: \"\",\r\n        instructor: this.props.userObj.first_name + ' '+ this.props.userObj.last_name,\r\n        instructor_id: this.props.userObj.userid,\r\n        students: [],\r\n        posts: [],\r\n        assignments: []\r\n        }\r\n    }\r\n\r\n    updateCourse = async (event) => {\r\n//         course_name: String,\r\n//   instructor: String,\r\n//   students: [],// just an array of userid's for easy access\r\n//   posts: [postSchema],\r\n//   assignments: [assignmentSchema],\r\n       \r\n        \r\n        const url = '/courses/' + this.state.course_name + ' ' + this.state.course_number;\r\n        console.log(this.state);\r\n        let res;\r\n        console.log(this.state);\r\n        res = await fetch(url, {\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(this.state)\r\n        });\r\n        if (res.status == 201) { //successful account creation!\r\n            this.props.changeMode(AppMode.FEED);\r\n            //this.props.done(\"New account created! Enter credentials to log in.\", false);\r\n        } else { //Unsuccessful account creation\r\n            //Grab textual error message\r\n            const resText = await res.text();\r\n            //this.props.done(resText, false);\r\n        }\r\n        \r\n    }\r\n\r\n    cancelReturnHomepage = async (event) => {\r\n        this.props.changeMode(AppMode.FEED);\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        if (event.target.name == \"Prefix\") {\r\n            this.setState({ prefix: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Number\") {\r\n            this.setState({ course_number: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Name\") {\r\n            this.setState({ course_name: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Term\") {\r\n            this.setState({ term: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Course-Year\") {\r\n            this.setState({ year: event.target.value });\r\n        }\r\n        else if (event.target.name == \"Start-Date\") {\r\n            this.setState({ start_date: event.target.value });\r\n        }\r\n\r\n        else if (event.target.name == \"End-Date\") {\r\n            this.setState({ end_date: event.target.value });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\" id=\"courseSettingPage\">\r\n            <center>\r\n            <h1 >{this.props.createCourse?\"Create Course\":\"Update Course\"}</h1>\r\n            </center>\r\n            <label className=\"form-label-prefix\">\r\n                {/* Label for Prefix */}\r\n                Prefix\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text enterPrefix\"\r\n                name=\"Prefix\"\r\n                id=\"UniqueCoursePrefix\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseNumber */}\r\n                Course Number\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text enterCourseNumber\"\r\n                name=\"Course-Number\"\r\n                id=\"CourseNumber\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseName */}\r\n                Course Name\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text\"\r\n                name=\"Course-Name\"\r\n                id=\"CourseName\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseTerm */}\r\n                Term\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-control-form-text\"\r\n                name=\"Course-Term\"\r\n                id=\"CourseTerm\"\r\n                type=\"text\"\r\n                onChange={this.handleOnChange}\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseYear */}\r\n                Year\r\n                <input\r\n                autoComplete=\"on\"\r\n                className=\"form-contorl-form-text\"\r\n                name=\"Course-Year\"\r\n                id=\"CourseYear\"\r\n                onChange={this.handleOnChange}\r\n                type=\"text\"\r\n                required={true}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseStartDate */}\r\n                Start Date\r\n                <input\r\n                className=\"form-control\"\r\n                name=\"Start-Date\"\r\n                onChange={this.handleOnChange}\r\n                id=\"CourseStartDate\"\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseEndDate */}\r\n                End Date\r\n                <input\r\n                className=\"form-control\"\r\n                name=\"End-Date\"\r\n                id=\"CourseEndDate\"\r\n                onChange={this.handleOnChange}\r\n                ></input>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseTimeZone */}\r\n                Time zone\r\n                <input\r\n                name=\"Course-Time-Zone\"\r\n                id=\"CourseTimeZone\"\r\n                ></input> \r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseMeetingTimes */}\r\n                Meeting Times\r\n\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseBreaksAndHolidays */}\r\n                Holidays\r\n                <label>\r\n                    Allow students to reply to threads posted in activity feed\r\n                    <input\r\n                        name=\"Allow-Replies-To-Threads\"\r\n                        id=\"AllowRepliesToThreads\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseSettingCheckBoxes */}\r\n                Course Settings\r\n                <label>\r\n                    Allow students to post new threads in activity feed\r\n                    <input\r\n                        name=\"Post-New-Threads\"\r\n                        id=\"PostNewThreads\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Allow students to reply to threads posted in activity feed\r\n                    <input\r\n                        name=\"Students-Reply-To-Threads\"\r\n                        id=\"ReplyToThreads\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Allow students to post events in course calendar\r\n                    <input\r\n                        name=\"Students-Post-Events\"\r\n                        id=\"StudentsPostEvents\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Require an instructor to approve students(s) calendar events before they appear in the course calendar\r\n                    <input\r\n                        name=\"Instructor-Approve-Event\"\r\n                        id=\"InstructorApproveEvent\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Course is inactive(only instrutors/observers can log in)\r\n                    <input\r\n                        name=\"Course-Is-Inactive\"\r\n                        id=\"CourseIsInactive\"\r\n                        type=\"checkbox\" \r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Hide the OSBLE Mail icons for this course\r\n                    <input\r\n                        name=\"Hide-Osble-Mail\"\r\n                        id=\"HideOsbleMail\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Set course as a 'programming' oriented course\r\n                    <input\r\n                        name=\"Programming-Oriented\"\r\n                        id=\"ProgrammingOriented\"\r\n                        type=\"checkbox\"\r\n                    ></input>\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Amount of weeks into the future to show events in calendar\r\n                    <input\r\n                    name=\"Show-Weeks-Into-Future\"\r\n                    id=\"ShowWeeksIntoFuture\"\r\n                    type=\"text\"\r\n                    ></input>\r\n                </label>\r\n            </label>\r\n            <br/>\r\n            <label>\r\n                {/* Label for CourseLatePolicy */}\r\n                Late Policy\r\n                <label>\r\n                    Students may submit assignments up to\r\n                    <input\r\n                    className=\"Late-Assignment-Limit\"\r\n                    id=\"LateAssignmentLimit\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    minutes late at no penalty, after which a penalty of\r\n                    <input\r\n                    className=\"Late-Assignment-Penalty\"\r\n                    id=\"LateAssignmentPenalty\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    percent per\r\n                    <input\r\n                    className=\"Late-Assignment-Penalty-Percentage\"\r\n                    id=\"LateAssignmentPenaltyPecentage\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    hour late will be applied. Assignments that submitted more than\r\n                    <input\r\n                    className=\"Max-Late-Assignment-Limit\"\r\n                    id=\"MaxLateAssignmentLimit\"\r\n                    ></input>\r\n                </label>\r\n                <label>\r\n                    hours after the due date and time will recive an automatic 0.\r\n                </label>\r\n            </label>\r\n            <br></br>\r\n            {/* Button for updating course */}\r\n            <button\r\n            className=\"Comfirmation-Update-Course-Btn\"\r\n            role=\"submit\"\r\n            id=\"ComfirmUpdateCourseBtn\"\r\n            type=\"submit\"\r\n            color=\"#191970\"\r\n            onClick={this.props.userObj.is_instructor == true? this.updateCourse:null}\r\n        >{this.props.createCourse ? \"Create Course\":\"Update Course\"}</button>\r\n            \r\n            {/* Button for canceling changes and returning to homepage */}\r\n            <button\r\n            className=\"Return-To-Homepage-Btn\"\r\n            role=\"submit\"\r\n            id=\"ReturnToHomepageBtn\"\r\n            type=\"submit\"\r\n            color=\"#191970\"\r\n            onClick={this.cancelReturnHomepage}\r\n            >Return to Homepage</button>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default CourseSettingsPage;","import React from 'react'\r\n\r\nexport default class UsersList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { showConfirmDelete: false };\r\n        \r\n    }\r\n    editUser = (id) => {\r\n        this.props.setEditId(id);\r\n        //this.props.changeMode(AppMode.ROUNDS_EDITROUND);\r\n    }\r\n\r\n\r\n    deleteUser = () => {\r\n        this.props.deleteUser();\r\n        this.setState({ showConfirmDelete: false });\r\n    }\r\n\r\n\r\n    //confirmDelete -- Triggered when the user clicks the delete button\r\n    //for a given round. The id paam is the unique property that \r\n    //identifies the round. Set the state variable representing the id\r\n    //of the round to be deleted and then present a dialog box asking\r\n    //the user to confirm the deletion.\r\n    confirmDelete = (id) => {\r\n        this.props.setDeleteId(id);\r\n        this.setState({ showConfirmDelete: true });\r\n    }\r\n    renderTable = () => {\r\n        let table = [];\r\n        for (let r = 0; r < this.props.data.length; ++r) {\r\n            table.push(\r\n                <tr key={r}>\r\n                    <td>{this.props.data[r].name}</td>\r\n                    \r\n                    <td>{this.props.data[r].id}</td>\r\n                    <td><button onClick={this.props.menuOpen ? null : () =>\r\n                        this.editUser(r)}>\r\n                        <span className=\"fa fa-pencil\"></span></button></td>\r\n                    <td><button onClick={this.props.menuOpen ? null :\r\n                        () => this.confirmDelete(r)}>\r\n                        <span className=\"fa fa-trash\"></span></button></td>\r\n                </tr>\r\n            );\r\n        }\r\n        return table;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div >\r\n                <h2>{this.props.type}</h2>\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\"><tr>\r\n                        <th>Name </th>\r\n                        <th>ID </th>\r\n                        <th></th>\r\n                        <th></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>{this.renderTable()}</tbody>\r\n\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport UsersList from './UsersList'\r\nclass UsersPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data:\r\n            {\r\n                'Instructors': [{ id: 'hermes@wsu.edu', name: \"Hermes Obiang\" }],\r\n                'TAs': [{ id: 'Joshua@wsu.edu', name: \"Joshua Stallworth\" }],\r\n                'Students': [{ id: 'sean@wsu.edu', name: \"Sean Washington\" }, { id: 'Leonard@wsu.edu', name: \"Leonard Brkanac\" }]\r\n\r\n\r\n            }\r\n\r\n            ,\r\n            courseId: 1\r\n\r\n        }\r\n        this.data ={\r\n            'Instructors': [{ id: 'hermes@wsu.edu', name: \"Hermes Obiang\" }],\r\n            'TAs': [{ id: 'Joshua@wsu.edu', name: \"Joshua Stallworth\" }],\r\n            'Students': [{ id: 'sean@wsu.edu', name: \"Sean Washington\" }, { id: 'Leonard@wsu.edu', name: \"Leonard Brkanac\" }]\r\n\r\n\r\n        }\r\n        this.deleteId = \"\";\r\n        this.editId = \"\";\r\n        this.state = { errorMsg: \"\" };\r\n        this.getUserLists = this.getUserLists.bind(this);\r\n    }\r\n    //setDeleteId -- Capture in this.state.deleteId the unique id of the item\r\n    //the user is considering deleting.\r\n    setDeleteId = (val) => {\r\n        this.deleteId = val;\r\n        this.setState({ errorMsg: \"\" });\r\n    }\r\n\r\n    //setEditId -- Capture in this.state.editId the unique id of the item\r\n    //the user is considering editing.\r\n    setEditId = (val) => {\r\n        this.editId = val;\r\n        this.setState({ errorMsg: \"\" });\r\n    }\r\n\r\n    editUser = async (newData) => {\r\n        /*  const url = '/rounds/' + this.props.userObj.id + '/' + \r\n             this.props.userObj.rounds[this.editId]._id;\r\n         const res = await fetch(url, {\r\n             headers: {\r\n                 'Accept': 'application/json',\r\n                 'Content-Type': 'application/json'\r\n                 },\r\n             method: 'PUT',\r\n             body: JSON.stringify(newData)}); \r\n         const msg = await res.text();\r\n         if (res.status != 200) {\r\n             this.setState({errorMsg: msg});\r\n             this.props.changeMode(AppMode.ROUNDS);\r\n         } else {\r\n             this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n         } */\r\n    }\r\n    deleteUser = async () => {\r\n        /* const url = '/rounds/' + this.props.userObj.id + '/' + \r\n            this.props.userObj.rounds[this.deleteId]._id;\r\n        const res = await fetch(url, {method: 'DELETE'}); \r\n        const msg = await res.text();\r\n        if (res.status != 200) {\r\n            this.setState({errorMsg: \"An error occurred when attempting to delete round from database: \" \r\n            + msg});\r\n            this.props.changeMode(AppMode.ROUNDS);\r\n        } else {\r\n            this.props.refreshOnUpdate(AppMode.ROUNDS);\r\n        }   */\r\n    }\r\n\r\n\r\n    getUserLists = function () {\r\n        var roles = Object.keys(this.state.data);\r\n        var classData = this.state.data;\r\n        return roles.map((role, index) => {\r\n            return <UsersList data={classData[role]}\r\n                type={role}\r\n                setEditId={this.setEditId}\r\n                setDeleteId={this.setDeleteId}\r\n                deleteRound={this.deleteRound}\r\n                changeMode={this.props.changeMode}\r\n                menuOpen={this.props.menuOpen} />\r\n\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"feedpage\" id=\"userPage\">\r\n                <center>\r\n                    <h1> Roster</h1>\r\n\r\n\r\n                    <div id=\"add_update_users\" style={{ display: 'block' }}>\r\n                        <h4>\r\n                            Add Single User\r\n                        </h4>\r\n                        <div>\r\n                            <a href=\"/Roster/Create\">Add By School ID</a>&nbsp;&nbsp;\r\n                <a href=\"/Roster/CreateByEmail\">Add By Email</a>&nbsp;&nbsp;\r\n            </div>\r\n                    </div>\r\n                    <UsersList data={this.data[\"Instructors\"]}\r\n                type=\"Instructors\"\r\n                setEditId={this.setEditId}\r\n                setDeleteId={this.setDeleteId}\r\n                deleteRound={this.deleteRound}\r\n                changeMode={this.props.changeMode}\r\n                menuOpen={this.props.menuOpen} />\r\n\r\n                <UsersList data={this.data[\"TAs\"]}\r\n                type=\"TAs\"\r\n                setEditId={this.setEditId}\r\n                setDeleteId={this.setDeleteId}\r\n                deleteRound={this.deleteRound}\r\n                changeMode={this.props.changeMode}\r\n                menuOpen={this.props.menuOpen} />\r\n                <UsersList data={this.data[\"Students\"]}\r\n                type=\"Students\"\r\n                setEditId={this.setEditId}\r\n                setDeleteId={this.setDeleteId}\r\n                deleteRound={this.deleteRound}\r\n                changeMode={this.props.changeMode}\r\n                menuOpen={this.props.menuOpen} />\r\n\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default UsersPage;","import React from 'react';\r\nclass HelpPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\" id=\"helpPage\">\r\n            <h1 className=\"help-header\">Help</h1>\r\n            &emsp;OSBLE contains the following help articles:\r\n            <br/>\r\n            <h2 className=\"help-sub-header\">Managing Course and Users</h2>\r\n            <u1>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateCourse\">creating a New Course</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org//Help/AddingStudents\">Adding students to a course</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org//Help/AddingOthers\">Adding TAs or moderators to a course</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org//Help/RosterGuide\">Managing your Course Roster</a></li>\r\n            </u1>\r\n            <h2 className=\"help-sub-header\">Creating Assignments</h2>\r\n            <u1>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateBasicAssignment\">Creating basic assignments</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateReviewAssignment\">Creating a review assignment</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateReviewDiscussion\">Creating review discussion assignments</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/CreateRubric\">Creating a Rubric</a></li>\r\n                &emsp;<li><a className=\"help-content\" href=\"https://plus.osble.org/Help/UsingTeamBuilder\">Using the Team Builder</a></li>\r\n                \r\n            </u1>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default HelpPage;\r\n","import React from 'react'\r\n// Code from https://medium.com/@subalerts/create-dynamic-table-from-json-in-react-js-1a4a7b1146ef\r\nexport default class GradeTable extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.getRowsData = this.getRowsData.bind(this);\r\n\r\n    }\r\n\r\n    getRowsData = function () {\r\n        var items = this.props.data;\r\n        return items.map((row, index) => {\r\n            return <RenderRow key={index} data={row} />\r\n        })\r\n\r\n    }\r\n    renderTable = () => {\r\n        let table = [];\r\n        for (let r = 0; r < this.props.data.length; ++r) {\r\n            table.push(\r\n                <tr key={r}>\r\n                    <td>{this.props.data[r].date.substring(0, 10)}</td>\r\n                    <td>{this.props.data[r].senderId}</td>\r\n                    <td>{this.props.data[r].subject}</td>\r\n\r\n\r\n                </tr>\r\n            );\r\n        }\r\n        return table;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"padded-page\">\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th class=\"inbox_time_header\">Date:</th>\r\n                            <th class=\"inbox_from_header\">From:</th>\r\n                            <th class=\"inbox_subject_header\">Subject:</th>\r\n                        </tr>\r\n\r\n                    </thead>\r\n                    <tbody>\r\n                        {Object.keys(this.props.data).length === 0 ?\r\n                            <tr>\r\n                                <td colSpan=\"5\" style={{ fontStyle: \"italic\" }}>Inbox Empty</td>\r\n                            </tr> : this.renderTable()\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst RenderRow = (props) => {\r\n\r\n\r\n    return <tr key={props.key}>\r\n        <td>{props.data.date}</td>\r\n        <td>{props.data.senderId}</td>\r\n        <td>{props.data.subject}</td>\r\n    </tr>\r\n\r\n}\r\n","import React from 'react';\r\nimport MailTable from './MailTable'\r\n\r\nclass MailPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            inbox : [{id\r\n                :\r\n                \"1\",\r\n                senderId\r\n                :\r\n                \"john@wsu.edu\",\r\n                recId\r\n                :\r\n                \"sean@wsu.edu\",\r\n                subject\r\n                :\r\n                \"test\",\r\n                date\r\n                :\r\n                Date(\"1995-12-17T11:24:00.000+00:00\"),\r\n                message\r\n                :\r\n                \"yo cmon pls\"}],\r\n            outbox : [],\r\n            mode : \"inbox\"\r\n\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div id =\"mailpage\" className=\"feedpage\">\r\n                <center>\r\n                    <h1 >Inbox</h1>\r\n                    <div class=\"btn-group\" id=\"mail_menu\">\r\n                        <a class=\"btn btn-primary\" >Compose</a>\r\n                        <a class=\"btn btn-primary\" >Inbox</a>\r\n                        <a class=\"btn btn-primary\" >Outbox</a>\r\n                        <input id=\"FormSubmitButton\" type=\"submit\" class=\"btn btn-primary\" disabled=\"disabled\" value=\"Delete\" />\r\n                    </div>\r\n                    <div class=\"MailContent\">\r\n\r\n                        <MailTable data = {this.state.inbox}/>\r\n                    </div>\r\n                </center>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MailPage;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nclass ProfilePage extends React.Component {\r\n\r\n    switchToEdit=()=>{\r\n        this.props.changeMode(AppMode.USER_SETTINGS);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div id=\"profilePage\" className=\"feedpage\">\r\n            <div className=\"profile-area\">\r\n                {/* The image and userID will be changed once we have a database set up */}\r\n                <div class=\"left-profile\">\r\n                    <img src=\"osble2.png\" height='200' width='200'></img>\r\n                </div>\r\n                <div class=\"right-profile\">\r\n                    <h1 id=\"userID\" className=\"profile-userID\" style={{fontSize:\"75px\"}}>John Ye\r\n                        <table>\r\n                            <tr>\r\n                                <td style={{fontSize:\"20px\"}}><strong>0</strong> post(s)</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td style={{fontSize:\"20px\"}}><strong>0</strong> comment(s)</td>\r\n                            </tr>\r\n                        </table>\r\n                    </h1>\r\n                </div>\r\n                <div class=\"profile-button-area\">\r\n                    <button id=\"edit\" className=\"profile-btn-icon\" onClick={this.switchToEdit}>Edit<span class=\"fa fa-pencil\"></span></button>\r\n                </div>\r\n            </div>\r\n            <p></p>\r\n            <p>\r\n                <h3 className=\"profile-info\" stype={{fontSize:\"50\"}}>Recent Social Activity</h3>\r\n            </p>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default ProfilePage;","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport AppMode from '../AppMode.js';\r\n\r\nclass DeleteCoursePage extends React.Component {\r\n\r\n\r\n    deleteCourse = async (event) => {\r\n        alert(\"Course succesfully deleted\");\r\n        this.props.changeMode(AppMode.FEED);\r\n    }\r\n\r\n    cancelDeleteCourse = async (event) => {\r\n        this.props.changeMode(AppMode.FEED);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"feedpage\">\r\n            <center>\r\n            <h1 >Delete Course</h1>\r\n            <h2>You are about to delete the course titled \"Class Input Here\". Deleting a course is permanent and cannot be undone. Any assignments, submissions, grades, and event data associated with this course will also be removed from the system. If you would like to continue, please click the \"Continue\" button below.</h2>\r\n            </center>\r\n            <center>\r\n            <label className=\"form-deletion-comfirmation-label\">\r\n                {/* Label for ComfirmDeleteCourseBtn */}\r\n                <button\r\n                className=\"Comfirmation-Deletion-Btn\"\r\n                role=\"submit\"\r\n                id=\"ComfirmDeletionOfCourseBtn\"\r\n                type=\"submit\"\r\n                color=\"#191970\"\r\n                onClick={this.deleteCourse}\r\n                >Delete</button>\r\n            </label>\r\n            <label>\r\n                {/* Label for CancelDeleteCourseBtn */}\r\n                <button\r\n                className=\"Cancel-Deletion-Btn\"\r\n                role=\"submit\"\r\n                id=\"CancelDeletionOfCourseBtn\"\r\n                type=\"submit\"\r\n                color=\"#191970\"\r\n                onClick={this.cancelDeleteCourse}\r\n                >Cancel</button>\r\n            </label>\r\n            </center>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nfunction deleteCourse() {\r\n    alert(\"Course successfully deleted\");    \r\n    this.props.changeMode(AppMode.FEED);\r\n}\r\n\r\nexport default DeleteCoursePage;","import React from \"react\";\r\n\r\nexport default class Course extends React.Component {\r\n    //style={{position:\"absolute\",left:\"10rem\"}}\r\n    render() {\r\n        return (\r\n            <tr key={this.props.key} style={{ borderBottom: \"1px solid #dee2e6\" }}>\r\n                <td><button className=\"postitembutton\" >+</button></td>\r\n                <td >{<div style={{ marginTop: \".7rem\" }}>{this.props.coursename}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".7rem\" }}>{this.props.coursenumber}</div>}</td>\r\n                <td >{<div style={{ marginTop: \".7rem\" }}>{this.props.semester}</div>}</td>\r\n                <td>{<div style={{ marginTop: \".7rem\" }}>{this.props.instructor}</div>}</td>\r\n            </tr>\r\n\r\n        )\r\n    }\r\n};","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport Course from './Course.js'\r\nclass FindCoursePage extends React.Component {\r\n    loadCourse = async () =>{\r\n        let response = await fetch(\"/courses/\");\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        var index = 0;\r\n        let courses = [...this.state.courses];\r\n        for(index; index<obj.length; index++){\r\n            courses.push({coursename: obj[index].course_name, coursenumber: obj[index].prefix + ' '+ obj[index].course_number,\r\n                        semester: obj[index].term, instructor: obj[index].instructor})\r\n        }\r\n\r\n        this.setState({courses: courses});\r\n        \r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.loadCourse();\r\n        this.state = {\r\n            courses: []\r\n        };\r\n\r\n    }\r\n    createntries = (entry) => {\r\n        return <Course coursename={entry.coursename} coursenumber={entry.coursenumber} semester={entry.semester} instructor={entry.instructor}></Course>\r\n    }\r\n\r\n    render() {\r\n        var JSONcourses = this.state.courses;\r\n        var JSXcourses = JSONcourses.map(this.createntries)\r\n        return (\r\n            <div className=\"feedpage\">\r\n                <h1 style={{ margin: \"1.5rem\", fontSize: \"30px\" }}>Search For Courses</h1>\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"thead-light\">\r\n                        <tr>\r\n                            <th style={{width:\"7rem\",paddingLeft:\"1.5rem\"}}>Join</th>\r\n                            <th>Course Name</th>\r\n                            <th>Course Number</th>\r\n                            <th>Semester</th>\r\n                            <th>Instructor</th>\r\n                        </tr>\r\n                        \r\n                    </thead>\r\n                    <tbody>\r\n                        {JSXcourses}\r\n                        \r\n                    </tbody>\r\n                    \r\n                </table>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FindCoursePage;","import React from 'react';\r\nimport AppMode from '../AppMode';\r\nclass UserSettingsPage extends React.Component {\r\n    handleSubmit =() =>{\r\n        this.props.changeMode(AppMode.PROFILE);\r\n    }\r\n    render() {\r\n        return (\r\n        <div id='settingPage' className=\"feedpage\">\r\n            <center>\r\n            <h2 className=\"setting-header\">User Settings<span className=\"fa fa-question-circle\"></span></h2>\r\n            </center>\r\n            <div className=\"modal-body\">\r\n            <form onSubmit={this.handleSubmit}>\r\n                <label>\r\n                    First Name:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"firstName\"\r\n                    size=\"30\"\r\n                    placeholder=\"First Name\"\r\n                    type=\"text\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Last Name:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"lastName\"\r\n                    size=\"30\"\r\n                    placeholder=\"Last Name\"\r\n                    type=\"text\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button id = \"changeNameButton\" className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Name</button>\r\n                <br/>\r\n\r\n                <h2 className=\"setting-header\">Reset Email<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    Email:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"firstName\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter New Email\"\r\n                    type=\"email\"\r\n                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Repeat Email:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"email\"\r\n                    size=\"30\"\r\n                    placeholder=\"Verify New Email\"\r\n                    type=\"email\"\r\n                    pattern=\"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Email</button>\r\n                <br/>\r\n\r\n                <h2 className=\"setting-header\">Change School ID<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    School ID:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"schoolID\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter School ID\"\r\n                    type=\"number\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Repeat School ID:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"schoolID\"\r\n                    size=\"30\"\r\n                    placeholder=\"Verify School ID\"\r\n                    type=\"number\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change ID</button>\r\n                <br/>\r\n            \r\n                <h2 className=\"setting-header\">Reset Password<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    Current Password:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"password\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter Current Password\"\r\n                    type=\"password\"\r\n                    pattern=\r\n                     \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    New Password:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"password\"\r\n                    size=\"30\"\r\n                    placeholder=\"Enter New Password\"\r\n                    type=\"password\"\r\n                    pattern=\r\n                     \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <br/>\r\n                <label>\r\n                    Repeat New Password:\r\n                    <input\r\n                    className=\"form-control form-text form-center\"\r\n                    name=\"password\"\r\n                    size=\"30\"\r\n                    placeholder=\"Verify New Password\"\r\n                    type=\"password\"\r\n                    pattern=\r\n                     \"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$\"\r\n//                    onChange={this.handleChange}\r\n                    />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Password</button>\r\n                <br/>\r\n                \r\n                <h2 className=\"setting-header\">Change Profile Picture<span className=\"fa fa-question-circle\"></span></h2>\r\n                <label>\r\n                    <p></p>\r\n                    Current Profile Picture:\r\n                    <img src=\"osble2.png\" height=\"60\" width=\"60\"/>\r\n                    <input\r\n                     className=\"form-control form-text form-center\"\r\n                     name=\"profilePic\"\r\n                     type=\"file\"\r\n                     accept=\"image/x-png,image/gif,image/jpeg\" \r\n//                     ref={this.profilePicRef}\r\n//                     value={this.state.profilePic}\r\n//                     onChange={this.handleChange}\r\n                     />\r\n                </label>\r\n                <p></p>\r\n                <button className=\"profileSubmitButton\" onClick={this.handleSubmit}>Change Picture</button>\r\n            </form>\r\n            </div>\r\n        </div>\r\n        );\r\n    }   \r\n}\r\n\r\nexport default UserSettingsPage;","import React from 'react';\r\nimport { async } from 'regenerator-runtime';\r\nimport AppMode from \"./../AppMode.js\"\r\nclass Admin extends React.Component {\r\n\r\n    constructor() {\r\n      super();\r\n      this.loadUsers();\r\n      this.state = {users:[],\r\n          showConfirmDelete: false};\r\n    }\r\n\r\n    loadUsers = async () =>{\r\n      console.log(\"Loading all users to admin page...\")\r\n        let response = await fetch(\"/users/\");\r\n        response = await response.json();\r\n        const obj = JSON.parse(response);\r\n        var index = 0;\r\n        let users = [];\r\n        for(index; index<obj.length; index++){\r\n            users.push({first_name: obj[index].first_name,\r\n                        last_name: obj[index].last_name,\r\n                        userid: obj[index].userid,\r\n                        email: obj[index].email,\r\n                        is_instructor: obj[index].is_instructor,\r\n                        school: obj[index].school,\r\n                        is_admin: obj[index].is_admin,\r\n                        password: obj[index].password,\r\n                      _id: obj[index]._id})\r\n        }\r\n\r\n        this.setState({users: users});\r\n        \r\n    }\r\n  \r\n  \r\n    //confirmDelete -- Triggered when the user clicks the delete button\r\n    //for a given round. The id paam is the unique property that \r\n    //identifies the round. Set the state variable representing the id\r\n    //of the round to be deleted and then present a dialog box asking\r\n    //the user to confirm the deletion.\r\n    deleteUser = (id) => {\r\n      //this.props.setDeleteId(id);\r\n      //this.setState({showConfirmDelete: true});\r\n    }\r\n    changeRoleCallBack = (userData,id) =>{\r\n        this.updateUser(userData,id);\r\n    \r\n    }\r\n\r\n    changeRole = (index) => {\r\n        let userData = {\r\n            userid: this.state.users[index].userid,\r\n            email: this.state.users[index].email,\r\n            password: this.state.users[index].password,\r\n            first_name: this.state.users[index].first_name,\r\n            last_name: this.state.users[index].last_name,\r\n            school: this.state.users[index].school,\r\n            is_instructor: this.state.users[index].is_instructor == true ? false: true,\r\n            is_admin: this.state.users[index].is_admin,\r\n            //  _id: this.state.users[index]._id\r\n          }\r\n\r\n\r\n        this.changeRoleCallBack(userData,userData.email);\r\n        this.loadUsers();\r\n    }\r\n\r\n    updateUser = async (newData,id) =>{\r\n       \r\n      const url = '/users/' + id\r\n      const res = await fetch(url, {\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n            },\r\n        method: 'PUT',\r\n        body: JSON.stringify(newData)}); \r\n    if (res.status == 200) { //successful account creation!\r\n       \r\n    } else { //Unsuccessful account update\r\n        //Grab textual error message\r\n       \r\n    }\r\n    }\r\n  \r\n  \r\n    //renderTable -- render an HTML table displaying the rounds logged\r\n    //by the current user and providing buttons to view/edit and delete each round.\r\n    renderTable = () => {\r\n    let table = [];\r\n    for (let r = 0; r < this.state.users.length; ++r) {\r\n      table.push(\r\n        <tr key={r}>\r\n          <td>{this.state.users[r].first_name + \" \"+this.state.users[r].last_name}</td>\r\n          <td>{this.state.users[r].userid}</td>\r\n          <td>{this.state.users[r].email}</td>\r\n          <td>{String (this.state.users[r].is_instructor)}&nbsp;\r\n          <button onClick={() => this.changeRole(r)}>\r\n                <span className=\"fa fa-pencil\"></span></button>\r\n                </td>\r\n          {/* <td><button onClick={this.props.menuOpen ? null : () => \r\n            this.editRound(r)}>\r\n                <span className=\"fa fa-eye\"></span></button></td> */}\r\n          <td><button onClick={() => this.deleteUser(r)}>\r\n                <span className=\"fa fa-trash\"></span></button> </td>\r\n        </tr> \r\n      );\r\n    }\r\n    return table;\r\n    }\r\n  \r\n    //render--render the entire rounds table with header, displaying a \"No\r\n    //Rounds Logged\" message in case the table is empty.\r\n    render() {\r\n      return(\r\n      <div className=\"padded-page\">\r\n        <h1></h1>\r\n        <table className=\"table table-hover\">\r\n          <thead className=\"thead-light\">\r\n          <tr>\r\n            <th>NAME</th>\r\n            <th>ID</th>\r\n            <th>EMAIL ADDRESS</th>\r\n            <th>INSTRUCTOR ROLE</th>\r\n            <th>DELETE</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n            {Object.keys(this.state.users).length === 0 ? \r\n            <tr>\r\n            <td colSpan=\"5\" style={{fontStyle: \"italic\"}}>No users registered</td>\r\n            </tr> : this.renderTable()\r\n            }\r\n          </tbody>\r\n        </table>\r\n        {/* {this.state.showConfirmDelete ?\r\n          <ConfirmDeleteRound \r\n            close={() => this.setState({showConfirmDelete: false})} \r\n            deleteRound={this.deleteRound} /> : null} */}\r\n      </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  export default Admin;","import React from 'react';\r\nimport NavBar from './NavBar.js';\r\nimport SideMenu from './SideMenu.js';\r\nimport ModeBar from './ModeBar.js';\r\nimport CreateEditAccountDialog from './CreateEditAccountDialog.js'\r\nimport LoginPage from './LoginPage.js';\r\nimport AppMode from \"./../AppMode.js\"\r\nimport FeedPage from './FeedPage.js';\r\nimport Rounds from './Rounds.js';\r\nimport CoursesPage from './CoursesPage.js';\r\nimport AboutBox from './AboutBox.js';\r\nimport Register from './RegisterPage'\r\nimport ResetPassword from './ResetPasswordPage'\r\nimport Grades from './GradesPage'\r\nimport Assignments from './AssignmentsPage'\r\nimport Analytics from './AnalyticsPage'\r\nimport CourseSettings from './CourseSettingsPage'\r\nimport Users from './UsersPage'\r\nimport Help from './HelpPage'\r\nimport Mail from './MailPage'\r\nimport Profile from './ProfilePage'\r\nimport DeleteCourse from './DeleteCoursePage'\r\nimport FindCourse from './FindCoursePage'\r\nimport UserSettings from './UserSettingsPage'\r\nimport Administrator from './Admin'\r\n\r\n\r\n\r\nconst modeTitle = {};\r\nmodeTitle[AppMode.ADMIN] = \"Administrator\"\r\nmodeTitle[AppMode.LOGIN] = \"Welcome to SpeedScore\";\r\nmodeTitle[AppMode.FEED] = \"Dashboard\";\r\nmodeTitle[AppMode.REGISTER] = \"Register\";\r\nmodeTitle[AppMode.ROUNDS] = \"My Rounds\";\r\nmodeTitle[AppMode.ROUNDS_LOGROUND] = \"Log New Round\";\r\nmodeTitle[AppMode.ROUNDS_EDITROUND] = \"Edit Round\";\r\nmodeTitle[AppMode.COURSES] = \"Courses\";\r\nmodeTitle[AppMode.RESET] = \"Reset Password\";\r\nmodeTitle[AppMode.GRADES] = \"Grades\";\r\nmodeTitle[AppMode.USERS] = \"Users\";\r\nmodeTitle[AppMode.ANALYTICS] = \"Analytics\";\r\nmodeTitle[AppMode.ASSIGNMENTS] = \"Assignments\";\r\nmodeTitle[AppMode.COURSE_SETTINGS] = \"Course Settings\";\r\nmodeTitle[AppMode.HELP] = \"Help\";\r\nmodeTitle[AppMode.MAIL] = \"Mail\";\r\nmodeTitle[AppMode.PROFILE] = \"Profile\";\r\nmodeTitle[AppMode.DELETE_COURSE] = \"Delete Course\";\r\nmodeTitle[AppMode.FIND_COURSE] = \"Find Course\";\r\nmodeTitle[AppMode.USER_SETTINGS] = \"User Settings\";\r\n\r\nconst modeToPage = {};\r\nmodeToPage[AppMode.ADMIN] = Administrator;\r\nmodeToPage[AppMode.LOGIN] = LoginPage;\r\nmodeToPage[AppMode.FEED] = FeedPage;\r\nmodeToPage[AppMode.REGISTER] = Register;\r\nmodeToPage[AppMode.ROUNDS] = Rounds;\r\nmodeToPage[AppMode.ROUNDS_LOGROUND] = Rounds;\r\nmodeToPage[AppMode.ROUNDS_EDITROUND] = Rounds;\r\nmodeToPage[AppMode.COURSES] = CoursesPage;\r\nmodeToPage[AppMode.RESET] = ResetPassword;\r\nmodeToPage[AppMode.GRADES] = Grades;\r\nmodeToPage[AppMode.USERS] = Users;\r\nmodeToPage[AppMode.ANALYTICS] = Analytics;\r\nmodeToPage[AppMode.ASSIGNMENTS] = Assignments;\r\nmodeToPage[AppMode.COURSE_SETTINGS] = CourseSettings;\r\nmodeToPage[AppMode.HELP] = Help;\r\nmodeToPage[AppMode.MAIL] = Mail;\r\nmodeToPage[AppMode.PROFILE] = Profile;\r\nmodeToPage[AppMode.DELETE_COURSE] = DeleteCourse;\r\nmodeToPage[AppMode.FIND_COURSE] = FindCourse;\r\nmodeToPage[AppMode.USER_SETTINGS] = UserSettings;\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor() {\r\n\r\n    super();\r\n    this.state = {\r\n      mode: AppMode.LOGIN,\r\n      menuOpen: false,\r\n      authenticated: false,\r\n      userObj: { displayName: \"\", profilePicURL: \"\" },\r\n      selectedCourse: {},\r\n      editAccount: false,\r\n      showEditAccountDialog: false,\r\n      statusMsg: \"\",\r\n      showAboutDialog: false,\r\n      createCourse: true\r\n    };\r\n  }\r\n\r\n  //componentDidMount\r\n  componentDidMount() {\r\n\r\n    if (!this.state.authenticated) {\r\n      //Use /auth/test route to (re)-test authentication and obtain user data\r\n      fetch(\"/auth/test\")\r\n        .then((response) => response.json())\r\n        .then((obj) => {\r\n          if (obj.isAuthenticated) {\r\n            this.setState({\r\n              userObj: obj.user,\r\n              authenticated: true,\r\n              mode: AppMode.FEED //We're authenticated so can get into the app.\r\n            }, async function () {\r\n\r\n              if (this.state.userObj.is_instructor === true) {\r\n                // gets all courses currently logged in proffesor is teaching\r\n                let response = await fetch(\"courses/profCourses/\" + this.state.userObj.userid);\r\n                response = await response.json();\r\n                const obj = JSON.parse(response);\r\n                if (obj.length != 0) { // if there are courses\r\n                  this.setState({\r\n                    selectedCourse: obj[0]\r\n                  })\r\n                  console.log(obj);\r\n                } else {\r\n                  this.setState({\r\n                    mode: AppMode.COURSE_SETTINGS,\r\n                    selectedCourse: null\r\n                  })\r\n                  //instructor has no courses\r\n                }\r\n              } else {\r\n                let response = await fetch(\"courses/studentCourses/\" + this.state.userObj.userid);\r\n                response = await response.json();\r\n                const obj = JSON.parse(response);\r\n                if (obj.length != 0) {\r\n                  this.setState({\r\n                    selectedCourse: obj[0],\r\n                  })\r\n                  console.log(obj);\r\n                } else {\r\n                  this.setState({\r\n                    mode: AppMode.FIND_COURSE,\r\n                    selectedCourse: null\r\n                  })\r\n                  // student not enrolled in any courses\r\n                }\r\n\r\n              }\r\n\r\n            });\r\n          }\r\n\r\n        }\r\n        )\r\n    }\r\n  }\r\n\r\n  //refreshOnUpdate(newMode) -- Called by child components when user data changes in \r\n  //the database. The function calls the users/:userid (GET) route to update \r\n  //the userObj state var based on the latest database changes, and sets the \r\n  //mode state var is set to newMode. After this method is called, the\r\n  //App will re-render itself, forcing the new data to \r\n  //propagate to the child components when they are re-rendered.\r\n  refreshOnUpdate = async (newMode) => {\r\n    //console.log(\"HERE\");\r\n    let response = await fetch(\"/users/\" + this.state.userObj.id);\r\n    response = await response.json();\r\n    const obj = JSON.parse(response);\r\n    this.setState({\r\n      userObj: obj,\r\n      mode: newMode\r\n    });\r\n  }\r\n\r\n  createCourse = (arg) => {\r\n    this.setState( { createCourse: arg });\r\n  }\r\n\r\n\r\n  handleChangeMode = (newMode) => {\r\n    this.setState({ mode: newMode });\r\n  }\r\n\r\n  openMenu = () => {\r\n    this.setState({ menuOpen: true });\r\n  }\r\n\r\n  closeMenu = () => {\r\n    this.setState({ menuOpen: false });\r\n  }\r\n\r\n  toggleMenuOpen = () => {\r\n    this.setState(prevState => ({ menuOpen: !prevState.menuOpen }));\r\n  }\r\n\r\n  setUserId = (Id) => {\r\n    this.setState({\r\n      userId: Id,\r\n      authenticated: true\r\n    });\r\n  }\r\n\r\n  showEditAccount = () => {\r\n    this.setState({ showEditAccountDialog: true });\r\n\r\n  }\r\n\r\n  cancelEditAccount = () => {\r\n    this.setState({ showEditAccountDialog: false });\r\n  }\r\n\r\n  //editAccountDone -- called after successful edit or\r\n  //deletion of user account. msg contains the status\r\n  //message and deleted indicates whether an account was\r\n  //edited (deleted == false) or deleted (deleted == true)\r\n  editAccountDone = (msg, deleted) => {\r\n    if (deleted) {\r\n      this.setState({\r\n        showEditAccountDialog: false,\r\n        statusMsg: msg,\r\n        mode: AppMode.LOGIN\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showEditAccountDialog: false,\r\n        statusMsg: msg\r\n      });\r\n    }\r\n  }\r\n\r\n  closeStatusMsg = () => {\r\n    this.setState({ statusMsg: \"\" });\r\n  }\r\n\r\n  render() {\r\n    const ModePage = modeToPage[this.state.mode];\r\n    return (\r\n      <div className=\"padded-page\">\r\n        {this.state.showAboutDialog ?\r\n          <AboutBox close={() => this.setState({ showAboutDialog: false })} /> : null}\r\n        {this.state.statusMsg != \"\" ? <div className=\"status-msg\">\r\n          <span>{this.state.statusMsg}</span>\r\n          <button className=\"modal-close\" onClick={this.closeStatusMsg}>\r\n            <span className=\"fa fa-times\"></span></button></div> : null}\r\n        {/* {this.state.showEditAccountDialog ? \r\n            <CreateEditAccountDialog \r\n              create={false} \r\n              userId={this.state.userObj.id} \r\n              done={this.editAccountDone} \r\n              cancel={this.cancelEditAccount}/> : null} */}\r\n        {this.state.mode == AppMode.LOGIN || this.state.mode == AppMode.REGISTER ? null : <NavBar\r\n          userObj={this.state.userObj}\r\n          selectedCourse={this.state.selectedCourse}\r\n          dashboard={modeTitle[this.state.mode]}\r\n          grades={modeTitle[AppMode.GRADES]}\r\n          assignments={modeTitle[AppMode.ASSIGNMENTS]}\r\n          users={modeTitle[AppMode.USERS]}\r\n          userObj={this.state.userObj}\r\n          analytics={modeTitle[AppMode.ANALYTICS]}\r\n          settings={modeTitle[AppMode.COURSE_SETTINGS]}\r\n          mode={this.state.mode}\r\n          changeMode={this.handleChangeMode}\r\n          menuOpen={this.state.menuOpen}\r\n          createCourse={this.createCourse}\r\n          toggleMenuOpen={this.toggleMenuOpen} />}\r\n        <SideMenu\r\n          menuOpen={this.state.menuOpen}\r\n          mode={this.state.mode}\r\n          createCourse = {this.state.createCourse}\r\n          toggleMenuOpen={this.toggleMenuOpen}\r\n          displayName={this.state.userObj.displayName}\r\n          profilePicURL={this.state.userObj.profilePicURL}\r\n          localAccount={this.state.userObj.authStrategy === \"local\"}\r\n          editAccount={this.showEditAccount}\r\n          logOut={() => this.handleChangeMode(AppMode.LOGIN)}\r\n          showAbout={() => { this.setState({ showAboutDialog: true }) }} />\r\n        {/* <ModeBar \r\n            mode={this.state.mode} \r\n            changeMode={this.handleChangeMode}\r\n            menuOpen={this.state.menuOpen}/> */}\r\n        <ModePage\r\n          create={false} // this will be set to \r\n          menuOpen={this.state.menuOpen}\r\n          mode={this.state.mode}\r\n          changeMode={this.handleChangeMode}\r\n          userObj={this.state.userObj}\r\n          selectedCourse={this.state.selectedCourse}\r\n          refreshOnUpdate={this.refreshOnUpdate} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap-social/bootstrap-social.css';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './styles/index.css';\r\nimport App from './components/App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}